/*! For license information please see right-click-options.js.LICENSE.txt */
!function(){var t={33042:function(t,e,r){var i;!function(){"use strict";var o=function t(e){var r,i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function s(t){var e=Object.getPrototypeOf(t);return e?Object.create(e):{}}function a(t,e,r){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!1,value:r})}function n(t,e){a(t,e,(function(){throw new h("The "+e+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(r=e)||Array.isArray(r)||null===r||void 0!==e.use_static&&(o.use_static=Boolean(e.use_static));var l="__immutable_invariants_hold";function d(t){return"object"!=typeof t||(null===t||Boolean(Object.getOwnPropertyDescriptor(t,l)))}function u(t,e){return t===e||t!=t&&e!=e}function p(t){return!(null===t||"object"!=typeof t||Array.isArray(t)||t instanceof Date)}var c=["setPrototypeOf"],g=c.concat(["push","pop","sort","splice","shift","unshift","reverse"]),b=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),m=c.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function h(t){this.name="MyError",this.message=t,this.stack=(new Error).stack}function f(t,e){for(var r in a(t,l,!0),e)e.hasOwnProperty(r)&&n(t,e[r]);return Object.freeze(t),t}function y(t,e){var r=t[e];a(t,e,(function(){return H(r.apply(t,arguments))}))}function v(t,e,r){var i=r&&r.deep;if(t in this&&(i&&this[t]!==e&&p(e)&&p(this[t])&&(e=H.merge(this[t],e,{deep:!0,mode:"replace"})),u(this[t],e)))return this;var o=k.call(this);return o[t]=H(e),_(o)}h.prototype=new Error,h.prototype.constructor=Error;var M=H([]);function A(t,e,r){var i=t[0];if(1===t.length)return v.call(this,i,e,r);var o,s=t.slice(1),a=this[i];if("object"==typeof a&&null!==a)o=H.setIn(a,s,e);else{var n=s[0];o=""!==n&&isFinite(n)?A.call(M,s,e):L.call(x,s,e)}if(i in this&&a===o)return this;var l=k.call(this);return l[i]=o,_(l)}function _(t){for(var e in b){if(b.hasOwnProperty(e))y(t,b[e])}o.use_static||(a(t,"flatMap",w),a(t,"asObject",P),a(t,"asMutable",k),a(t,"set",v),a(t,"setIn",A),a(t,"update",F),a(t,"updateIn",$),a(t,"getIn",W));for(var r=0,i=t.length;r<i;r++)t[r]=H(t[r]);return f(t,g)}function I(){return new Date(this.getTime())}function w(t){if(0===arguments.length)return this;var e,r=[],i=this.length;for(e=0;e<i;e++){var o=t(this[e],e,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return _(r)}function C(t){if(void 0===t&&0===arguments.length)return this;if("function"!=typeof t){var e=Array.isArray(t)?t.slice():Array.prototype.slice.call(arguments);e.forEach((function(t,e,r){"number"==typeof t&&(r[e]=t.toString())})),t=function(t,r){return-1!==e.indexOf(r)}}var r=s(this);for(var i in this)this.hasOwnProperty(i)&&!1===t(this[i],i)&&(r[i]=this[i]);return z(r)}function k(t){var e,r,i=[];if(t&&t.deep)for(e=0,r=this.length;e<r;e++)i.push(O(this[e]));else for(e=0,r=this.length;e<r;e++)i.push(this[e]);return i}function P(t){"function"!=typeof t&&(t=function(t){return t});var e,r={},i=this.length;for(e=0;e<i;e++){var o=t(this[e],e,this),s=o[0],a=o[1];r[s]=a}return z(r)}function O(t){return!t||"object"!=typeof t||!Object.getOwnPropertyDescriptor(t,l)||t instanceof Date?t:H.asMutable(t,{deep:!0})}function N(t,e){for(var r in t)Object.getOwnPropertyDescriptor(t,r)&&(e[r]=t[r]);return e}function T(t,e){if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(t));var r,i,o=Array.isArray(t),a=e&&e.deep,n=e&&e.mode||"merge",l=e&&e.merger;function d(t,i,o){var n,d=H(i[o]),c=l&&l(t[o],d,e),g=t[o];void 0===r&&void 0===c&&t.hasOwnProperty(o)&&u(d,g)||(u(g,n=void 0!==c?c:a&&p(g)&&p(d)?H.merge(g,d,e):d)&&t.hasOwnProperty(o)||(void 0===r&&(r=N(t,s(t))),r[o]=n))}function c(t,e){for(var i in t)e.hasOwnProperty(i)||(void 0===r&&(r=N(t,s(t))),delete r[i])}if(o)for(var g=0,b=t.length;g<b;g++){var m=t[g];for(i in m)m.hasOwnProperty(i)&&d(void 0!==r?r:this,m,i)}else{for(i in t)Object.getOwnPropertyDescriptor(t,i)&&d(this,t,i);"replace"===n&&c(this,t)}return void 0===r?this:z(r)}function E(t,e){var r=e&&e.deep;if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(t));return H.merge(this,t,{deep:r,mode:"replace"})}var S,j,G,x=H({});function L(t,e,r){if(!Array.isArray(t)||0===t.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var i=t[0];if(1===t.length)return R.call(this,i,e,r);var o,a=t.slice(1),n=this[i];if(o=this.hasOwnProperty(i)&&"object"==typeof n&&null!==n?H.setIn(n,a,e):L.call(x,a,e),this.hasOwnProperty(i)&&n===o)return this;var l=N(this,s(this));return l[i]=o,z(l)}function R(t,e,r){var i=r&&r.deep;if(this.hasOwnProperty(t)&&(i&&this[t]!==e&&p(e)&&p(this[t])&&(e=H.merge(this[t],e,{deep:!0,mode:"replace"})),u(this[t],e)))return this;var o=N(this,s(this));return o[t]=H(e),z(o)}function F(t,e){var r=Array.prototype.slice.call(arguments,2),i=this[t];return H.set(this,t,e.apply(i,[i].concat(r)))}function D(t,e){for(var r=0,i=e.length;null!=t&&r<i;r++)t=t[e[r]];return r&&r==i?t:void 0}function $(t,e){var r=Array.prototype.slice.call(arguments,2),i=D(this,t);return H.setIn(this,t,e.apply(i,[i].concat(r)))}function W(t,e){var r=D(this,t);return void 0===r?e:r}function B(t){var e,r=s(this);if(t&&t.deep)for(e in this)this.hasOwnProperty(e)&&(r[e]=O(this[e]));else for(e in this)this.hasOwnProperty(e)&&(r[e]=this[e]);return r}function V(){return{}}function z(t){return o.use_static||(a(t,"merge",T),a(t,"replace",E),a(t,"without",C),a(t,"asMutable",B),a(t,"set",R),a(t,"setIn",L),a(t,"update",F),a(t,"updateIn",$),a(t,"getIn",W)),f(t,c)}function H(t,e,r){if(d(t)||function(t){return"object"==typeof t&&null!==t&&(60103===t.$$typeof||t.$$typeof===i)}(t)||function(t){return"undefined"!=typeof File&&t instanceof File}(t)||function(t){return"undefined"!=typeof Blob&&t instanceof Blob}(t)||function(t){return t instanceof Error}(t))return t;if(function(t){return"object"==typeof t&&"function"==typeof t.then}(t))return t.then(H);if(Array.isArray(t))return _(t.slice());if(t instanceof Date)return s=new Date(t.getTime()),o.use_static||a(s,"asMutable",I),f(s,m);var s,n=e&&e.prototype,l=(n&&n!==Object.prototype?function(){return Object.create(n)}:V)();if(null==r&&(r=64),r<=0)throw new h("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var u in r-=1,t)Object.getOwnPropertyDescriptor(t,u)&&(l[u]=H(t[u],void 0,r));return z(l)}function U(t){return function(){var e=[].slice.call(arguments),r=e.shift();return t.apply(r,e)}}function K(t,e){return function(){var r=[].slice.call(arguments),i=r.shift();return Array.isArray(i)?e.apply(i,r):t.apply(i,r)}}return H.from=H,H.isImmutable=d,H.ImmutableError=h,H.merge=U(T),H.replace=U(E),H.without=U(C),H.asMutable=(S=B,j=k,G=I,function(){var t=[].slice.call(arguments),e=t.shift();return Array.isArray(e)?j.apply(e,t):e instanceof Date?G.apply(e,t):S.apply(e,t)}),H.set=K(R,v),H.setIn=K(L,A),H.update=U(F),H.updateIn=U($),H.getIn=U(W),H.flatMap=U(w),H.asObject=U(P),o.use_static||(H.static=t({use_static:!0})),Object.freeze(H),H}();void 0===(i=function(){return o}.call(e,r,e,t))||(t.exports=i)}()},93967:function(t,e){var r;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=a(t,s(r)))}return t}function s(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return o.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var r in t)i.call(t,r)&&t[r]&&(e=a(e,r));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()}},e={};function r(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};!function(){"use strict";r.r(i),r.d(i,{RightClickOptions:function(){return ot},RightClickOptionsContainer:function(){return Dt},filterAttributesByType:function(){return Y},filterOutModuleSpecificAttributes:function(){return tt},filterSpecificAttributes:function(){return J},getAttributesByCategory:function(){return M},getBaseMenuItem:function(){return H},getColorPickerOptions:function(){return Vt},getExtendGroupOptions:function(){return q},getGradientStopOptions:function(){return Ht},getMenuItemContent:function(){return W},getModalDraggableChildModuleListOptions:function(){return Ut},getModalFieldOptions:function(){return Zt},getModalGroupOptions:function(){return te},getModalGroupTabOptions:function(){return re},getModalTabOptions:function(){return oe},getModifiedOptionGroups:function(){return O},getModuleLabelById:function(){return d},getModuleOptions:function(){return ae},getOptionOnClickPath:function(){return u},getParentMenu:function(){return T},getPasteFieldAttrName:function(){return p},getPasteGroupOptions:function(){return R},getPasteModuleOptionNoun:function(){return c},getPastePosition:function(){return b},getResetGroupOptions:function(){return E},getRightClickOptions:function(){return le},getTargetModuleAttrsMaps:function(){return X},getUniqSelectedModuleIds:function(){return m},hasAttributesToReset:function(){return _},hasCopyModuleOption:function(){return h},hasPasteFieldOption:function(){return f},hasPasteFieldToGroupOption:function(){return y},hasPasteGroupToGroupOption:function(){return v},hasRelevantAttributesToPaste:function(){return A},isModuleTypesMatch:function(){return F},normalizeCategorizationKey:function(){return P},normalizePresetGroupName:function(){return k},onClickCloneModule:function(){return at},onClickCopyField:function(){return nt},onClickCopyGroup:function(){return lt},onClickCopyGroupTab:function(){return dt},onClickCopyModule:function(){return ut},onClickCopyModuleAttributes:function(){return pt},onClickCopyModuleStyle:function(){return ct},onClickDeleteColumn:function(){return bt},onClickDeleteModule:function(){return gt},onClickDisableGlobal:function(){return ht},onClickEditModule:function(){return yt},onClickExpandAndActivateLayerModules:function(){return ft},onClickExtendAttributes:function(){return It},onClickPasteAttributes:function(){return kt},onClickPasteAttrsToAttrs:function(){return At},onClickPasteFieldAttrToAttr:function(){return wt},onClickPasteFieldAttrToFlexibleAttr:function(){return Ct},onClickPasteGroupAttrsToFlexibleGroupAttrs:function(){return Pt},onClickPasteModule:function(){return Ot},onClickRemoveModule:function(){return Tt},onClickResetAttributes:function(){return Et},onClickSaveToLibrary:function(){return Nt},onClickUndoRedoOptions:function(){return Ft},onCloseRightClickOptions:function(){return St},onMount:function(){return xt},onOptionMouseEnter:function(){return Lt},onUnmount:function(){return Rt},regenerateInteractionIds:function(){return Q},registerGroupPreset:function(){return w},registerRightClickOptionsStore:function(){return Se},resetOptionGroup:function(){return N},selectChild:function(){return de},selectNext:function(){return ue},selectParent:function(){return pe},selectPrev:function(){return ce},set:function(){return ge},setOwnerData:function(){return be},setSelected:function(){return me},unset:function(){return he},updateGroupPreset:function(){return C}});var t={};r.r(t),r.d(t,{selectChild:function(){return de},selectNext:function(){return ue},selectParent:function(){return pe},selectPrev:function(){return ce},set:function(){return ge},setOwnerData:function(){return be},setSelected:function(){return me},unset:function(){return he}});var e={};r.r(e),r.d(e,{getState:function(){return ve},isActive:function(){return ye},isModuleRightClicked:function(){return Ne},isRightClickMenuActiveForField:function(){return Te}});var o=window.vendor.wp.hooks;const s=["module.decoration.interactionTarget"];var a=window.lodash,n=window.vendor.wp.i18n,l=window.divi.data;const d=(t,e="")=>{const r=(0,l.select)("divi/edit-post").getModuleName(t)||e,i=(0,l.select)("divi/module-library").getModule(r);let o=(0,a.get)(i,"title",""),s=(0,a.get)(i,"titles","");if("divi/shortcode-module"===r){const e=(0,l.select)("divi/edit-post").getModule(t),r=(0,l.select)("divi/settings").getSetting(["shortcodeModuleDefinitions",e?.props?.attrs.shortcodeName]);o=r?.name??"",s=r?.plural??""}return{structure:o?"structure"===(0,a.get)(i,"category")?o:(0,n.__)("Module","et_builder"):"",structures:s?"structure"===(0,a.get)(i,"category")?s:(0,n.__)("Modules","et_builder"):"",name:o}},u=(t,e)=>{if((0,a.isEqual)([0],t))return["options",String(e),"onClick"];const r=[].concat(t).splice(1).join("-children-").split("-");return["options"].concat(r).concat(["children",String(e),"onClick"])},p=({attrName:t,subName:e,attrsMaps:r,groupName:i})=>{const o=e?t.split(".").concat(e.split(".")):[t];return(0,a.has)(r,["attrsStructureMap"].concat(o))?t:(0,a.get)(r,["attrsGroupNameMap",i,e,0])},c=({clipboardType:t,moduleId:e,moduleIds:r,moduleName:i})=>"module"===t?(0,a.get)(d(e,i),"structure"):(0,a.get)(d(r[0],i),"structures");var g=window.divi.moduleUtils;const b=({ownerParentModuleType:t,ownerModuleType:e,clipboardModuleType:r})=>(0,g.isValidChild)(t,r)?"after":!!(0,g.isValidChild)(e,r)&&"inside",m=({moduleId:t,selectedModuleIds:e})=>(0,a.isArray)(e)?(0,a.uniq)(e.concat([t])):[t],h=t=>{const{isCloneable:e,selectedModuleIds:r}=t;if(!e)return!1;if(1===r.length)return!0;const i=(0,l.select)("divi/edit-post").getModulesByIds(r);return 1===(0,g.extractModuleTypes)(i,{"fullwidth-section":"section","specialty-section":"section"}).length},f=({fieldName:t,clipboardItemFieldName:e,fieldOptions:r,clipboardItemFieldOptions:i})=>!!t&&(!!e&&(t===e&&(0,a.isEqual)(r,i))),y=({clipboardItem:t,attrsMaps:e})=>{if((0,a.isObject)(t)&&"moduleFieldAttribute"===t.clipboardType){const r=t.getIn(["payload"]),i=r.getIn(["attrName"]),o=r.getIn(["subName"]),s=r.getIn(["groupName"]),n=o?i.split(".").concat([o]):[i],l=(0,a.has)(e,["attrs"].concat(n)),d=!(0,a.isEmpty)((0,a.get)(e,["attrsGroupNameMap",s,o]));return l||d}return!1},v=t=>{const{modalName:e,modalTab:r,groupId:i,groupName:o,clipboardItem:s}=t;if((0,a.isObject)(s)&&"moduleGroupAttributes"===s.clipboardType){const{payload:t}=s,a=e===t.modalName,n=r===t.modalTab,l=i===t.groupId,d=o===(t.groupName||t.groupId),u=a&&d&&l;return a&&n&&l||u}return!1},M=t=>{const e={},r={},i={};return Object.entries(t).forEach((([t,o])=>{if("groupPreset"===t)i.groupPreset=o;else if("modulePreset"===t)i.modulePreset=o;else if("object"==typeof o&&null!==o){if("module"===t){const i=o,s={},a={};return Object.entries(i).forEach((([t,e])=>{if("meta"===t)s[t]=e;else if("advanced"===t&&"object"==typeof e&&null!==e){const r=e;"link"in r&&(s[t]={link:r.link});const i={...r};delete i.link,Object.keys(i).length>0&&(a[t]=i)}else a[t]=e})),Object.keys(s).length>0&&Object.assign(e,{[t]:s}),void(Object.keys(a).length>0&&Object.assign(r,{[t]:a}))}const i={},s={};Object.entries(o).forEach((([t,e])=>{"innerContent"===t?i[t]=e:s[t]=e})),Object.keys(i).length>0&&Object.assign(e,{[t]:i}),Object.keys(s).length>0&&Object.assign(r,{[t]:s})}else Object.assign(r,{[t]:o})})),{contentAttrs:e,styleAttrs:r,presetAttrs:i}},A=(t,e,r,i)=>{const o=i.attrs?.asMutable?.({deep:!0})||{},s=i.attributeType;let a=!1,n=!1,l=!1;if((0,g.isNonEmptyObject)(o)){const{contentAttrs:t,styleAttrs:e}=M(o);a=(0,g.isNonEmptyObject)(e),n=(0,g.isNonEmptyObject)(t),l="groupPreset"in o||"modulePreset"in o}else"fieldAttr"in i&&("content"===s?n=!0:"style"===s&&(a=!0));switch(r){case"content":return n;case"style":return a;case"preset":return l;case"design":return a||l;case"all":return a||n||l;default:return!1}},_=(t,e,r)=>{const i=(0,l.select)("divi/edit-post").getModuleAttrs(t);if(!i)return!1;const o=r?.attrsMaps;if(!o)return!1;if(e.includes("preset")){const t=i.modulePreset&&i.modulePreset.length>0,e=i.groupPreset&&Object.values(i.groupPreset).some((t=>t?.getIn(["presetId"])));if(t||e)return!0}if(e.includes("style")){const t=o.attrsCategoryMap?.style;if(t){if(Object.entries(t).some((([t])=>!t.includes("innerContent")&&(0,g.isNonEmptyObject)(i.getIn(t.split("."))))))return!0}}if(e.includes("content")){const t=o.attrsCategoryMap?.content;if(t){if(Object.entries(t).some((([t])=>(0,g.isNonEmptyObject)(i.getIn(t.split("."))))))return!0}}return!1};var I=window.divi.clipboard;const w=t=>{const{payload:e}=t.clipboardItem,{groupId:r}=e;if(!r)return!1;const i=(e.groupPreset||e.attrs?.groupPreset)?.[r];if(!i)return!1;(0,l.dispatch)("divi/edit-post").editGroupPresetAttr({id:t.targetModuleId,attrName:r,value:{presetId:i.presetId??null,groupName:i.groupName}});const o=(0,l.select)("divi/edit-post").getContent()?.asMutable({deep:!0}),s=(0,g.populateUsedGroupPresets)(o);return(0,l.dispatch)("divi/edit-post").updateUsedPresets({presetType:"group",presets:s}),!0},C=({moduleId:t,presetPath:e,presetValue:r})=>{let i=(0,l.select)("divi/edit-post").getModuleAttrs(t);i=i.setIn(["groupPreset",e],r);const{groupPreset:o}=i;let s=null;if(o){const e=(0,I.convertGroupPreset)({clipboardItem:{payload:{groupPreset:o}},targetModuleId:t});e&&"object"==typeof e&&"groupPreset"in e&&(s={groupPreset:e.groupPreset})}const a=s?i.set("groupPreset",s.groupPreset):i;(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(t,a,"user",!0),s?.groupPreset&&Object.entries(s.groupPreset).forEach((([e])=>{w({clipboardItem:{payload:{attrs:i,groupPreset:s.groupPreset,groupId:e}},targetModuleId:t,attributeType:"preset"})}))},k=t=>{let e=(0,g.getAttributeCategorizationKey)(t);return e=(0,g.camelCaseToLabel)(e),e=e.replace(/Content/g,"Body").replace(/Font/g,"Body").replace(/Html/g,"HTML").replace(/Css/g,"CSS").replace(/Attributes/g,"").replace(/^(Design|Advanced|Content|Module)\s?/,""),e},P=t=>{const e=(0,g.getAttributeCategorizationKey)(t).replace(/^(design|advanced|content)/i,"");return e.charAt(0).toLowerCase()+e.slice(1)},O=(t,e="all")=>{const r=M(t.asMutable?.({deep:!0})??{}),{contentAttrs:i,styleAttrs:o,presetAttrs:s}=r,a={},n=t=>{t&&"object"==typeof t&&Object.entries(t).forEach((([t,e])=>{if(e&&"object"==typeof e){if("module"===t)return void Object.entries(e).forEach((([,t])=>{t&&"object"==typeof t&&Object.keys(t).forEach((t=>{const e=(0,g.getAttributeCategorizationKey)(t);e&&(a[e]={hasPreset:!1,hasModifiedValues:!0})}))}));const r=(0,g.getAttributeCategorizationKey)(t);r&&(a[r]={hasPreset:!1,hasModifiedValues:!0})}}))},l=()=>{s.groupPreset&&Object.entries(s.groupPreset).forEach((([t,e])=>{if(!e||"object"!=typeof e||!("presetId"in e)||null===e.presetId)return;const r=(0,g.getAttributeCategorizationKey)(t);r&&(a[r]?a[r].hasPreset=!0:a[r]={hasPreset:!0,hasModifiedValues:!1})}))};switch(e){case"design":n(o),l();break;case"style":n(o);break;case"content":n(i);break;case"preset":l();break;case"all":n(o),n(i),l()}return Object.entries(a).map((([t,{hasPreset:e,hasModifiedValues:r}])=>({path:t,hasPreset:e,hasModifiedValues:r})))},N=({moduleId:t,groupPath:e,attrsMaps:r,resetPreset:i=!1,type:o="style"})=>{const s=(0,l.select)("divi/edit-post").getModule(t);if(!s)return;const a=s.props?.attrs;if(!a)return;let n=a;if(("preset"===o||i)&&a.groupPreset){const t={},r=a.groupPreset;Object.keys(r).forEach((i=>{(i.startsWith("module.")?i.endsWith(e):i.startsWith(e))||(t[i]=r[i])})),n=n.set("groupPreset",t)}if("preset"!==o&&r?.attrsCategoryMap?.all){const t={},i=r.attrsCategoryMap.all;Object.entries(i).forEach((([r,i])=>{(r.startsWith("module.")?r.endsWith(e):r.startsWith(e))&&(t[r]=i)})),n=(0,I.resetTargetAttrsBasedOnOverlapppingAttrsMaps)({sourceAttrsMap:t,targetAttrsMap:t,targetAttrs:n})}(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(t,n,"user",!0),(0,l.dispatch)("divi/right-click-options").unset()},T=(t,e,r,i)=>({name:t,label:e,onClick:()=>{(0,l.dispatch)("divi/right-click-options").unset()},enable:r,...i&&i.length>0?{children:i}:{}}),E=({moduleId:t,moduleAttrs:e,attrsMaps:r,type:i,resetPreset:o,label:s})=>{const a=O(e,i),l=[];return a.forEach((({path:e,hasPreset:s})=>{if("preset"===i&&!s)return;const a="preset"===i?k(e):(0,g.normalizeOptionGroupName)(e);l.push(((t,e,r,i,o,s)=>({name:`reset-${t}-group-${e.replace(/\./g,"-")}`,label:(0,n.sprintf)((0,n.__)("Reset %1$s %2$s","et_builder"),r,"preset"===t?(0,n.__)("Preset","et_builder"):(0,n.__)("Attributes","et_builder")),onClick:()=>N({moduleId:i,groupPath:e,attrsMaps:o,resetPreset:"preset"===t||"design"===t||s,type:t})}))(i,e,a,t,r,o))})),T(`reset-select-${i}-groups`,s,l.length>0,l.length>0?l:[])};var S=r(33042),j=r.n(S);const G=(t,e)=>{Object.values(t).forEach((t=>{(0,g.isPlainObject)(t)&&Object.keys(t).forEach((t=>{const r=(0,g.getAttributeCategorizationKey)(t);e(r)}))}))},x=(t,e,r,i)=>({name:`paste-${t}-${e.toLowerCase()}`,label:(0,n.sprintf)((0,n.__)("Paste %1$s Attributes","et_builder"),r),onClick:i});let L=()=>{};const R=({owner:t,clipboardPayload:e,attributeType:r,label:i})=>{const o=[],s=e&&"function"==typeof e.getIn?e.getIn(["attrs"]):e?.attrs,a=s?M(s.asMutable?.({deep:!0})??s):null,{contentAttrs:d,styleAttrs:u,presetAttrs:p}=a??{contentAttrs:{},styleAttrs:{},presetAttrs:{}},c=e&&"function"==typeof e.getIn?e.getIn(["attrsMap"])||{}:e?.attrsMap||{},b=t?.attrsMaps?.attrsCategoryMap?.all||{};if("preset"===r)return p.groupPreset&&Object.keys(p.groupPreset).length>0&&Object.entries(p.groupPreset).forEach((([e,r])=>{if(!r||null===r.presetId)return;const i=k(e);o.push({name:`paste-preset-${i}`,label:(0,n.sprintf)((0,n.__)("Paste %1$s Preset","et_builder"),i),onClick:()=>{C({moduleId:t.id,presetPath:e,presetValue:r}),(0,l.dispatch)("divi/right-click-options").unset()}})})),T(`paste-select-${r}-attributes`,i,o.length>0,o);if("design"===r){const e=new Set;return Object.entries(u).forEach((([t,r])=>{if((0,g.isPlainObject)(r)&&Object.keys(r).length>0)if("module"===t)G(r,(t=>e.add(t)));else{const r=(0,g.getAttributeCategorizationKey)(t);e.add(r)}})),p.groupPreset&&Object.keys(p.groupPreset).forEach((t=>{const r=(0,g.getAttributeCategorizationKey)(t);r&&e.add(r)})),e.forEach((e=>{const i=k(e);o.push(x("design",e,i,(()=>{if(L(t,r,{sourceAttrsMap:c,sourceAttrs:j()(u),targetModuleId:t.id,targetAttrsMap:b,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(t.id),styleGroup:e}),p.groupPreset){const r=Object.keys(p.groupPreset).find((t=>(0,g.getAttributeCategorizationKey)(t)===e));if(r){const e=p.groupPreset[r];C({moduleId:t.id,presetPath:r,presetValue:e})}}(0,l.dispatch)("divi/right-click-options").unset()})))})),T(`paste-select-${r}-attributes`,i,o.length>0,o)}const m=new Set,h="style"===r?u:d;return Object.entries(h).forEach((([e,i])=>{if((0,g.isPlainObject)(i)&&Object.keys(i).length>0)if("module"===e)G(i,(e=>{if(!m.has(e)){m.add(e);const i=(0,g.normalizeOptionGroupName)(e);o.push(x(r,e,i,(()=>{L(t,r,{sourceAttrsMap:c,sourceAttrs:j()(h),targetModuleId:t.id,targetAttrsMap:b,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(t.id),styleGroup:e}),(0,l.dispatch)("divi/right-click-options").unset()})))}}));else{const i=(0,g.getAttributeCategorizationKey)(e);if(!m.has(i)){m.add(i);const e=(0,g.normalizeOptionGroupName)(i);o.push(x(r,i,e,(()=>{L(t,r,{sourceAttrsMap:c,sourceAttrs:j()(h),targetModuleId:t.id,targetAttrsMap:b,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(t.id),styleGroup:i}),(0,l.dispatch)("divi/right-click-options").unset()})))}}})),T(`paste-select-${r}-attributes`,i,o.length>0,o)},F=(t,e)=>{const r=(0,l.select)("divi/edit-post").getModule(t)?.name,i=e?.name;return r===i};var D=window.vendor.React,$=r.n(D);const W=t=>$().createElement($().Fragment,null,t.label,t.shortcut&&$().createElement("span",{className:"et-vb-right-click-option-shortcut"},t.shortcut.join(" ")));var B=r(93967),V=r.n(B),z=window.divi.window;const H=({option:t,parent:e,optionIndex:r,selected:i,selectedParent:o,onOptionMouseEnter:s,onOptionClick:n,showChildren:l,children:d=null})=>{const u=r===i&&(0,a.isEqual)(e,o),p=!(t?.enable??1),c=(0,a.has)(t,"children");return $().createElement(D.Fragment,{key:`right-click-option-${t.name}`},t.topSeparator&&$().createElement("span",{className:"et-vb-right-click-option-separator"}),$().createElement("span",{className:V()({"et-vb-right-click-option-wrap":!0,"et-vb-right-click-option-wrap--active":u,"et-vb-right-click-option-wrap--disabled":p,"et-vb-right-click-option-wrap--has-children":c})},$().createElement("button",{type:"button",className:"et-vb-right-click-option",onClick:z.handleOnClickFallback,value:t.name,onMouseEnter:s,onMouseDown:n,"aria-label":t.label},W(t)),l&&d),t.bottomSeparator&&$().createElement("span",{className:"et-vb-right-click-option-separator"}))},U=(t,e)=>{Object.values(t).forEach((t=>{(0,g.isPlainObject)(t)&&Object.keys(t).forEach((t=>{const r=(0,g.getAttributeCategorizationKey)(t);e(r)}))}))},K=(t,e,r,i)=>({name:`extend-${t}-${e.toLowerCase()}`,label:(0,n.sprintf)((0,n.__)("Extend %1$s Attributes","et_builder"),r),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:i,attributes:{defaultOptionGroup:e,defaultAttributeType:t},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()}}),q=({owner:t,attributeType:e,label:r})=>{const i=[],o=(0,l.select)("divi/edit-post").getModuleAttrs(t.id),s=o?M(o.asMutable?.({deep:!0})??{}):null,{contentAttrs:a,styleAttrs:d,presetAttrs:u}=s??{contentAttrs:{},styleAttrs:{},presetAttrs:{}};if("preset"===e)return u.groupPreset&&Object.keys(u.groupPreset).length>0&&Object.entries(u.groupPreset).forEach((([e,r])=>{if(!r||null===r.presetId)return;const o=(0,g.getAttributeCategorizationKey)(e),s=k(e);i.push({name:`extend-preset-${s}`,label:(0,n.sprintf)((0,n.__)("Extend %1$s Preset","et_builder"),s),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:t.id,attributes:{defaultOptionGroup:o,defaultAttributeType:"preset"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()}})})),T(`extend-select-${e}-attributes`,r,i.length>0,i);if("design"===e){const o=new Set;return Object.entries(d).forEach((([t,e])=>{if((0,g.isPlainObject)(e)&&Object.keys(e).length>0)if("module"===t)U(e,(t=>o.add(t)));else{const e=(0,g.getAttributeCategorizationKey)(t);o.add(e)}})),u.groupPreset&&Object.keys(u.groupPreset).forEach((t=>{const e=(0,g.getAttributeCategorizationKey)(t);e&&o.add(e)})),o.forEach((e=>{const r=k(e);i.push(K("design",e,r,t.id))})),T(`extend-select-${e}-attributes`,r,i.length>0,i)}const p=new Set,c="style"===e?d:a;return Object.entries(c).forEach((([r,o])=>{if((0,g.isPlainObject)(o)&&Object.keys(o).length>0)if("module"===r)U(o,(r=>{if(!p.has(r)){p.add(r);const o=(0,g.normalizeOptionGroupName)(r);i.push(K(e,r,o,t.id))}}));else{const o=(0,g.getAttributeCategorizationKey)(r);if(!p.has(o)){p.add(o);const r=(0,g.normalizeOptionGroupName)(o);i.push(K(e,o,r,t.id))}}})),T(`extend-select-${e}-attributes`,r,i.length>0,i)},X=t=>{const e=(0,l.select)("divi/edit-post").getModule(t),r=(0,l.select)("divi/edit-post").getModuleAttrs(t);if(!e||!r)return null;const i=(0,l.select)("divi/edit-post").getModuleName(t),o=(0,I.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:i}),s=(0,l.select)("divi/clipboard").getComponentAttrsMaps(o)?.getIn(["attrsMaps"]),a=s?.asMutable({deep:!0})||null;return{targetModule:e,targetAttrs:r,targetModuleName:i,targetAttrsMaps:a,targetAttrsMapForNormalization:a?.attrsCategoryMap?.all||{}}},Y=(t,e)=>{if(!t||"object"!=typeof t)return{};let r;r=(0,g.isImmutableObject)(t)?t.asMutable({deep:!0}):t;const i=M(r),{contentAttrs:o,styleAttrs:s,presetAttrs:a}=i;let n;switch(e){case"content":n=o;break;case"style":n=s;break;case"design":n={...s,...a};break;case"preset":n=a;break;default:n={...a};new Set([...Object.keys(o),...Object.keys(s)]).forEach((t=>{const e=o[t],r=s[t];e&&r&&"object"==typeof e&&"object"==typeof r?n[t]={...e,...r}:e?n[t]=e:r&&(n[t]=r)}));break}return n};function J(t,e){if(!t||0===e.length)return t;if("getIn"in t&&"setIn"in t){let r=t;return e.forEach((t=>{const e=t.split(".");if(r.getIn(e)){const t=e.length-1,i=e.slice(0,t),o=e[t],s=r.getIn(i);r=r.setIn(i,s.without(o))}})),r}if(!(0,a.isObject)(t))return t;if(!e.some((e=>(0,a.has)(t,e))))return t;const r=(0,a.cloneDeep)(t);return e.forEach((t=>{(0,a.has)(r,t)&&(0,a.unset)(r,t)})),r}var Z=window.divi.globalData;const Q=t=>{const e=t,r=e?.module?.decoration?.interactions?.desktop?.value?.interactions;if(!Array.isArray(r)||0===r.length)return t;const i=(0,Z.generateNanoUuid)(),o=(0,Z.generateNanoUuid)();return e.module||(e.module={}),e.module.decoration||(e.module.decoration={}),e.module.decoration.interactionTrigger=i,e.module.decoration.interactionTarget=o,r.forEach((t=>{t.triggerClass=`et-interaction-trigger-${i}`,t.target&&(t.target.targetClass=`et-interaction-target-${o}`)})),t},tt=(t,e)=>{if(!t)return t;const r={...t};return e.forEach((t=>{r[t]&&delete r[t]})),r};(0,o.addFilter)("divi.cloneModule.attrs","divi/right-click-options",(t=>J(t,s))),(0,o.addFilter)("divi.cloneModule.attrs","divi/right-click-options/interaction-ids-regeneration",(t=>Q(t)),20);const et=$().memo((({options:t,parent:e,selected:r,selectedParent:i,parentElement:o,windowHeight:s,renderOption:a})=>{const n=(0,D.useRef)(null),[l,d]=(0,D.useState)(0),u=i.concat([r]).join("-"),p=e.join("-"),c=u.startsWith(p);return(0,D.useEffect)((()=>{if(n.current&&o){const t=o.getBoundingClientRect(),e=n.current.offsetHeight,r=t.top+e,i=Math.max(0,r-s);d(i>0?-i:0)}}),[o,s]),$().createElement("div",{ref:n,className:"et-vb-right-click-option-children",style:{top:l,visibility:c?"visible":"hidden",pointerEvents:c?"auto":"none"}},t.map(((t,e)=>a(t,e))))})),rt=$().memo((({option:t,parent:e,optionIndex:r,selected:i,selectedParent:o,onOptionMouseEnter:s,windowHeight:n})=>{const l=(0,D.useRef)(null),d=(0,a.isArray)(t.children),u=(0,D.useCallback)((()=>{s(e,r)}),[s,e,r]);return $().createElement("span",{ref:l},H({option:t,parent:e,optionIndex:r,selected:i,selectedParent:o,onOptionMouseEnter:u,onOptionClick:t?.enable??1?t.onClick:a.noop,showChildren:d,children:d&&l.current?$().createElement(et,{options:t.children,parent:e.concat([r]),selected:i,selectedParent:o,parentElement:l.current,windowHeight:n,renderOption:(t,a)=>$().createElement(rt,{key:t.name,option:t,parent:e.concat([r]),optionIndex:a,selected:i,selectedParent:o,onOptionMouseEnter:s,windowHeight:n})}):null}))})),it=$().memo((({option:t,parent:e,optionIndex:r,selected:i,selectedParent:o,onOptionMouseEnter:s,windowHeight:n})=>{const l=(0,D.useRef)(null),d=(0,a.isArray)(t.children),u=(0,D.useCallback)((()=>{s(e,r)}),[s,e,r]);return $().createElement("span",{ref:l},H({option:t,parent:e,optionIndex:r,selected:i,selectedParent:o,onOptionMouseEnter:u,onOptionClick:t?.enable??1?t.onClick:a.noop,showChildren:d,children:d&&l.current?$().createElement(et,{options:t.children,parent:e.concat([r]),selected:i,selectedParent:o,parentElement:l.current,windowHeight:n,renderOption:(t,a)=>$().createElement(rt,{key:t.name,option:t,parent:e.concat([r]),optionIndex:a,selected:i,selectedParent:o,onOptionMouseEnter:s,windowHeight:n})}):null}))})),ot=({cursorPosition:t,windowHeight:e,windowWidth:r,options:i,selected:o,selectedParent:s,appWindowOffset:l,onMount:d=a.noop,onUnmount:u=a.noop,onOptionsContextMenu:p=a.noop,onOverlayClick:c=a.noop,onOverlayContextMenu:g=a.noop,adminBarHeight:b,builderBarWidth:m,pageBarHeight:h,sidebarLeftWidth:f,windowLocation:y="top",zoomScale:v,onOptionMouseEnter:M=a.noop})=>{const A=(0,D.useRef)(null),[_,I]=(0,D.useState)(0),[w,C]=(0,D.useState)(!1);(0,D.useEffect)((()=>{(0,a.isFunction)(d)&&d();const t=new ResizeObserver((t=>{t.forEach((t=>{const e=t.contentRect.width;e!==_&&(I(e),C(!0))}))}));return A.current&&t.observe(A.current),()=>{(0,a.isFunction)(u)&&u(),t.disconnect()}}),[d,u,_]);const k=(({appWindowOffsetLeft:t,cursorX:e,windowWidth:r,builderBarWidth:i,sidebarLeftWidth:o,windowLocation:s,zoomScale:a,menuWidth:n})=>{const l=e-(e>r-n?n:0);return{property:"left",value:"app"===s?l*a+i+o+t:l}})({cursorX:t.x,appWindowOffsetLeft:l.left,windowWidth:r,builderBarWidth:m,sidebarLeftWidth:f,windowLocation:y,zoomScale:v,menuWidth:_}),P=(({cursorY:t,windowHeight:e,appWindowOffsetTop:r,adminBarHeight:i,pageBarHeight:o,windowLocation:s,zoomScale:a})=>{const n="app"===s?t*a:t,l=n>e/2?"bottom":"top",d="app"===s?i+o:0;return{property:l,value:"top"===l?n+d:e-n-r-d}})({cursorY:t.y,windowHeight:e,appWindowOffsetTop:l.top,adminBarHeight:b,pageBarHeight:h,windowLocation:y,zoomScale:v}),O=r-t.x<2*_?"left":"right";return $().createElement($().Fragment,null,$().createElement("div",{ref:A,className:`et-vb-right-click-options et-vb-right-click-options--${P.property} et-vb-right-click-options-children-direction--${O}`,style:{[k.property]:k.value,[P.property]:P.value,opacity:w?1:0},onContextMenu:p},i.map(((t,r)=>((t,e,r,i,o,s,a)=>{const n=$().createElement(it,{option:t,parent:e,optionIndex:r,selected:i,selectedParent:o,onOptionMouseEnter:s,windowHeight:a});return t?.url?$().createElement("a",{href:t.url,key:t.name},n):$().createElement("span",{key:t.name},n)})(t,[0],r,o,s,M,e)))),$().createElement("div",{className:"et-vb-right-click-overlay",role:"button",tabIndex:0,"aria-label":(0,n.__)("Right Click Options Overlay","et_builder"),onKeyDown:a.noop,onClick:z.handleOnClickFallback,onContextMenu:g,onMouseDown:c}))};var st=window.divi.uiLibrary;const at=(t,e,r)=>{const i={id:t,moduleAppearanceSettings:(0,l.select)("divi/module-library").getModuleAppearanceSettings(),themeBuilderLayout:(0,l.select)("divi/settings").getSetting(["themeBuilder","layout"]),moduleCount:(0,l.select)("divi/module").getModuleCount()};if(r){(0,g.isParentFlexLayout)({moduleId:t})?(0,l.dispatch)("divi/edit-post").cloneFlexColumn(i):(0,l.dispatch)("divi/edit-post").cloneColumn(i)}else(0,l.dispatch)("divi/edit-post").cloneModule(i,e);(0,l.dispatch)("divi/right-click-options").unset()},nt=({attrName:t,subName:e,moduleId:r,modalName:i,modalTab:o,fieldName:s,fieldOptions:a,fieldLabel:n,groupName:d,moduleObject:u})=>{const p=(0,g.getModuleAttributeValue)(t,u),c=p?(0,g.extractFieldAttrValue)(p,e):{};(0,l.dispatch)("divi/clipboard").addItem({origin:r,clipboardType:"moduleFieldAttribute",payload:{attrName:t,subName:e,moduleId:r,modalName:i,modalTab:o,fieldName:s,fieldOptions:a,fieldLabel:n,groupName:d,fieldAttr:c,attributeType:(0,I.getCopyType)(o,d)}}),(0,l.dispatch)("divi/right-click-options").unset()},lt=({origin:t,moduleId:e,modalName:r,modalTab:i,groupId:o,groupLabel:s,groupName:a,attrsGroupNameMap:n,attrsMap:d,attrs:u})=>{const p=(0,l.select)("divi/edit-post").getModuleAttrs(e),c=(0,S.asMutable)(p,{deep:!0})?.groupPreset,g=(0,I.getCopyType)(i,a),b=c?.[o],m={moduleId:e,modalName:r,modalTab:i,groupId:o,groupLabel:s,groupName:a,attrsGroupNameMap:n,attrsMap:d,attrs:{...u,...b?{groupPreset:{[o]:b}}:{}},attributeType:g};(0,l.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"moduleGroupAttributes",payload:m}),(0,l.dispatch)("divi/right-click-options").unset()},dt=({origin:t,moduleId:e,modalName:r,groupId:i,groupTabLabel:o,groupTabName:s,attrsMap:a,attrsGroupNameMap:n,attrs:d})=>{(0,l.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"moduleGroupTabAttributes",payload:{moduleId:e,modalName:r,groupId:i,groupTabLabel:o,groupTabName:s,attrsMap:a,attrsGroupNameMap:n,attrs:d}}),(0,l.dispatch)("divi/right-click-options").unset()},ut=({moduleId:t})=>{(0,I.copyModuleToClipboard)(t),(0,l.dispatch)("divi/right-click-options").unset()},pt=t=>{const{id:e,attrsMaps:r}=t,i=(0,l.select)("divi/edit-post").getModuleAttrs(e).asMutable({deep:!0}),o=(0,g.removeEmptyObjectRecursive)(i),s=(0,a.get)(r,["attrsCategoryMap","all"]),n=(0,a.get)(r,["fieldLabelsMap"],{});(0,l.dispatch)("divi/clipboard").addItem({origin:e,clipboardType:"moduleAttributes",payload:{moduleId:e,moduleLabel:(0,a.get)(d(e),["name"]),attrsMap:s,attrs:o,attributeType:"all",fieldLabelsMap:n}}),(0,l.dispatch)("divi/right-click-options").unset()},ct=({moduleId:t,moduleLabel:e,attrsMap:r,attrs:i})=>{const o=(0,l.select)("divi/edit-post").getModuleName(t),s=(0,I.buildFieldLabelsMap)({name:o});(0,l.dispatch)("divi/clipboard").addItem({origin:t,clipboardType:"moduleAttributes",payload:{moduleId:t,moduleLabel:e,attrsMap:r,attrs:i,attributeType:"style",fieldLabelsMap:s}}),(0,l.dispatch)("divi/right-click-options").unset()},gt=t=>{(0,l.dispatch)("divi/edit-post").removeModule(t),(0,l.dispatch)("divi/right-click-options").unset()},bt=t=>{(0,l.dispatch)("divi/edit-post").removeColumn(t),(0,l.dispatch)("divi/right-click-options").unset()};function mt(t){const{globalModule:e}=(0,l.select)("divi/edit-post").getModuleAttrs(t);if(e)return t;const r=(0,l.select)("divi/edit-post").getModule(t);return r.parent?mt(r.parent):null}const ht=({moduleId:t})=>{const e=mt(t);(0,l.dispatch)("divi/edit-post").disableGlobalModule(e),(0,l.dispatch)("divi/right-click-options").unset()},ft=t=>{(0,l.select)("divi/edit-post").getAncestorModules(t).forEach((t=>{(0,l.dispatch)("divi/modal-library").setLayersViewModule({moduleId:t?.id,data:{expand:!0,active:!1}})})),(0,l.dispatch)("divi/modal-library").setLayersViewActiveModuleId(t)},yt=(t,e)=>{const r="divi/shortcode-module"===e?"divi/module-shortcode":"divi/module";(0,l.dispatch)("divi/modal-library").open({owner:t,name:r}),(0,l.dispatch)("divi/right-click-options").unset(),ft(t)},vt=(t,e,r,i)=>{let o=Y(t,e);return"all"!==r&&(o=(0,g.filterAttributeMaps)(o,r)),"all-modified"!==i&&(o=((t,e)=>{const r=(0,a.get)(t,e);return void 0===r?{}:(0,g.createImmutableAttrs)({attr:r,propertyPath:e.split(".")}).asMutable({deep:!0})})(o,i)),o};function Mt({sourceAttrs:t,targetAttrsMap:e}){const r=t.getIn(["title","innerContent"]),i=e["title.innerContent"];function o(t){return!!t&&"object"==typeof t&&"value"in t}const s=r&&Object.values(r).every((t=>o(t)&&"string"==typeof t.value)),a=r&&Object.values(r).every((t=>o(t)&&"object"==typeof t.value&&"text"in t.value)),n=""===i||void 0===i;if(s&&(i&&"object"==typeof i&&"text"in i)){const e=Object.fromEntries(Object.entries(r).map((([t,e])=>[t,{value:{text:e.value}}])));return t.setIn(["title","innerContent"],e)}if(a&&n){const e=Object.fromEntries(Object.entries(r).map((([t,e])=>[t,{value:e.value.text}])));return t.setIn(["title","innerContent"],e)}return t}const At=({targetModuleId:t,sourceAttrsMap:e,sourceAttrs:r,targetAttrsMap:i,targetAttrs:o})=>{const a=J(r,s),{groupPreset:n,...d}=a.asMutable({deep:!0}),u="groupPreset"in a||"modulePreset"in a;let p=null;if(u&&n){const e=(0,I.convertGroupPreset)({clipboardItem:{payload:{groupPreset:n}},targetModuleId:t});e&&"object"==typeof e&&"groupPreset"in e&&(p={groupPreset:e.groupPreset})}const c=Mt({sourceAttrs:u&&p?j()({...d,groupPreset:p.groupPreset}):u?a:j()(d),targetAttrsMap:i}),g=(0,I.mergeAttrsIntoAttrs)({sourceAttrs:c,targetAttrsMap:i,targetAttrs:o});(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(t,g),u&&p?.groupPreset&&Object.entries(p.groupPreset).forEach((([r])=>{w({clipboardItem:{payload:{attrs:j()(d),attrsMap:e,groupPreset:p.groupPreset,groupId:r}},targetModuleId:t,attributeType:"preset"})})),(0,l.dispatch)("divi/right-click-options").unset()},_t=(t,e,r,i,o)=>{const s=X(t);if(!s)return;const{targetAttrs:a,targetAttrsMapForNormalization:n}=s,l=Mt({sourceAttrs:j()(r),targetAttrsMap:n});At({sourceAttrsMap:e,sourceAttrs:l,targetModuleId:t,targetAttrsMap:n,targetAttrs:a}),((t,e,r,i,o)=>{if("all-modified"!==r||!["design","preset","all"].includes(t))return;const{presetAttrs:s}=M(i);if(s.groupPreset)if("all"===e&&["design","preset"].includes(t))Object.entries(s.groupPreset).forEach((([t,e])=>{e&&"object"==typeof e&&C({moduleId:o,presetPath:t,presetValue:e})}));else if("all"!==e){const t=Object.keys(s.groupPreset).find((t=>(0,g.getAttributeCategorizationKey)(t)===e));t&&s.groupPreset[t]&&C({moduleId:o,presetPath:t,presetValue:s.groupPreset[t]})}})(o.attributeType,o.optionGroup,o.modifiedFields,i,t)},It=({sourceModuleId:t,targetModuleIds:e,scope:r,attributeType:i="all",moduleTypes:o="all",optionGroup:s="all",modifiedFields:a="all-modified"})=>{const d=(0,l.select)("divi/edit-post").getModule(t);if(!d)return;const u=(0,l.select)("divi/edit-post").getModuleAttrs(t),p=d.getIn(["name"]);if(!u||!p)return;const c=(0,g.getSettingsComponent)(p),b=(0,I.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:p});(0,l.dispatch)("divi/history").disableHistoryTracking(),(0,I.waitUntilAttrsMapsReady)({id:b,attrsMapsType:"module",name:p,component:c,callback:d=>{const p=d?.attrsCategoryMap?.all;if(!p)return void(0,l.dispatch)("divi/history").enableHistoryTracking();const c=u.asMutable({deep:!0}),b=vt(c,i,s,a),m=(0,g.getModulesInScope)(t,r,e,o);let h=0;const f={attributeType:i,optionGroup:s,modifiedFields:a};(0,I.getOrWaitForAttrsMaps)({moduleIds:m,processModule:t=>{_t(t,p,b,c,f),h++}}).then((()=>{if((0,l.dispatch)("divi/history").enableHistoryTracking(),h>0){const e=(0,l.select)("divi/edit-post").getContent();(0,l.dispatch)("divi/history").addLayoutItem({label:(0,n.__)("Extended Attributes","et_builder"),moduleId:t,moduleLabel:"",moduleName:"",state:e,timestamp:(new Date).getTime(),humanTime:(new Date).toLocaleTimeString(),type:"EXTEND_ATTRIBUTES",storeName:"divi/edit-post"})}})).catch((()=>{(0,l.dispatch)("divi/history").enableHistoryTracking()}))}}).catch((()=>{(0,l.dispatch)("divi/history").enableHistoryTracking()}))},wt=({sourceAttr:t,targetModuleId:e,targetAttr:r,targetAttrName:i,targetSubName:o})=>{const s=(0,I.mergeFieldAttrIntoResponsiveAttr)({sourceFieldAttr:t,targetResponsiveAttr:r,targetSubName:o});(0,l.dispatch)("divi/edit-post").editModuleAttribute({id:e,attrName:i,value:s}),(0,l.dispatch)("divi/right-click-options").unset()},Ct=({sourceAttr:t,targetModuleId:e,targetAttrName:r,targetSubName:i,targetGroupName:o,targetAttr:s,targetAttrsMaps:a})=>{const n=p({attrName:r,subName:i,groupName:o,attrsMaps:a});wt({sourceAttr:t,targetModuleId:e,targetAttrName:n,targetSubName:i,targetAttr:s})},kt=(t,e,r)=>{const{id:i,clipboardItemStyle:o,selectedModuleIds:s}=t,n=(0,l.select)("divi/edit-post").getModule(i),d=o?.payload.asMutable({deep:!0});if(!d)return;const u=m({moduleId:i,selectedModuleIds:s});if("fieldAttr"in d)return void u.forEach((t=>{const e=(0,l.select)("divi/edit-post").getModuleName(t),r=(0,I.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:e}),i=(0,l.select)("divi/clipboard").getComponentAttrsMaps(r)?.getIn(["attrsMaps"]),o=i?.asMutable({deep:!0});Ct({sourceAttr:j()(d.fieldAttr),targetModuleId:t,targetAttrName:d.attrName,targetSubName:d.subName,targetGroupName:d.groupName,targetAttr:(0,l.select)("divi/edit-post").getModuleAttr(t,d.attrName),targetAttrsMaps:o})}));let p=j()(d.attrs);if(!F((0,a.get)(d,"moduleId"),n)){const t=p.asMutable({deep:!0});delete t.modulePreset,p=j()(t)}u.forEach((t=>{const i=X(t);if(!i)return;const{targetAttrs:o,targetAttrsMapForNormalization:s}=i,a=Y(p,e),n=r?.styleGroup?(0,g.filterAttributeMaps)(a,r.styleGroup):a;At({sourceAttrsMap:d.attrsMap||{},sourceAttrs:j()(n),targetModuleId:t,targetAttrsMap:s,targetAttrs:o})})),(0,l.dispatch)("divi/right-click-options").unset()};L=kt;const Pt=({sourceAttrs:t,sourceAttrsGroupNameMap:e,targetAttrsMap:r,targetAttrsGroupNameMap:i,targetAttrs:o,targetModuleId:s})=>{const a=(0,I.mapAttrsIntoMatchingGroupNameAttrs)({sourceAttrs:t,sourceAttrsGroupNameMap:e,targetAttrsGroupNameMap:i}),n=(0,I.mergeAttrsIntoAttrs)({sourceAttrs:a,targetAttrsMap:r,targetAttrs:o});(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(s,n),(0,l.dispatch)("divi/right-click-options").unset()},Ot=({moduleId:t})=>{(0,I.pasteModuleFromClipboard)(t),(0,l.dispatch)("divi/right-click-options").unset()},Nt=({owner:t,saveToDiviCloud:e="off"})=>{const{cursorPosition:r}=(0,l.select)("divi/right-click-options").getState();(0,l.dispatch)("divi/modal-library").open({name:"divi/add-to-library",owner:t,offset:{top:r.y,left:Math.max(0,r.x-200)},attributes:{saveToDiviCloud:e}}),(0,l.dispatch)("divi/right-click-options").unset()},Tt=t=>{(0,l.dispatch)("divi/edit-post").removeModule(t),(0,l.dispatch)("divi/right-click-options").unset()},Et=(t,e)=>{const{id:r,attrsMaps:i}=t,o=(0,l.select)("divi/edit-post").getModule(r);if(!o)return;const a=["all","design","preset"].includes(e),n="all"===e?"all":"content"===e?"content":"preset"===e?null:"style";if(n){let t=i?.attrsCategoryMap?.[n],e=i?.attrsCategoryMap?.[n];t=tt(t,s),e=tt(e,s);const a=(0,I.resetTargetAttrsBasedOnOverlapppingAttrsMaps)({sourceAttrsMap:t,targetAttrsMap:e,targetAttrs:o?.props?.attrs});(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(r,a,"user",!0)}a&&(0,l.dispatch)("divi/edit-post").removeModuleAttributes({id:r,attrNames:["modulePreset","groupPreset"],caller:"user"}),(0,l.dispatch)("divi/right-click-options").unset()},St=t=>{t.preventDefault(),t.stopPropagation(),(0,l.dispatch)("divi/right-click-options").unset()};var jt=window.divi.keyboardShortcuts;const Gt=[{name:"closeRightClickOptions",label:(0,n.__)("Close Right Click Options","et_builder"),keys:["Escape"],category:"page",action:()=>{(0,l.dispatch)("divi/right-click-options").unset()}},{name:"selectNextOption",label:(0,n.__)("Select Next Option","et_builder"),keys:["ArrowDown"],category:"page",action:()=>{(0,l.dispatch)("divi/right-click-options").selectNext()}},{name:"selectPrevOption",label:(0,n.__)("Select Previous Option","et_builder"),keys:["ArrowUp"],category:"page",action:()=>{(0,l.dispatch)("divi/right-click-options").selectPrev()}},{name:"selectParentOption",label:(0,n.__)("Select Parent Option","et_builder"),keys:["ArrowLeft"],category:"page",action:()=>{(0,l.dispatch)("divi/right-click-options").selectParent()}},{name:"selectChildOption",label:(0,n.__)("Select Child Option","et_builder"),keys:["ArrowRight"],category:"page",action:()=>{(0,l.dispatch)("divi/right-click-options").selectChild()}},{name:"executeSelectedOption",label:(0,n.__)("Execute Selected Option","et_builder"),keys:["Enter"],category:"page",action:()=>{const t=(0,l.select)("divi/right-click-options").getState(),{selected:e,parent:r}=t,i=(0,a.get)(t,u(r.asMutable(),e));(0,a.isFunction)(i)&&i()}}],xt=()=>(0,jt.registerShortcuts)(Gt),Lt=(t,e)=>{(0,l.dispatch)("divi/right-click-options").setSelected({parent:t,selected:e})},Rt=()=>(0,jt.unregisterShortcuts)(Gt.map((t=>t.name))),Ft=t=>{"undo"===t?(0,l.dispatch)("divi/history").undo():"redo"===t&&(0,l.dispatch)("divi/history").redo(),(0,l.dispatch)("divi/right-click-options").unset()},Dt=()=>{const{adminBarHeight:t,appActiveView:e,appWindowWidth:r,builderBarWidth:i,pageBarHeight:o,rightClickOptionsState:s,sidebarLeftWidth:n,sidebarRightWidth:d,topWindowHeight:u,topWindowWidth:p,view:c,zoomScale:g,isUserDefinedAppWindowWidth:b,is100vwVisualView:m}=(0,l.useSelect)((t=>{const e=t("divi/app-ui").getView();return{appActiveView:e,view:t("divi/app-ui").getViewItem(e),appWindowWidth:t("divi/app-ui").getWindow("width","app",0),rightClickOptionsState:t("divi/right-click-options").getState(),topWindowHeight:t("divi/app-ui").getWindow("height","top",0),topWindowWidth:t("divi/app-ui").getWindow("width","top",0),adminBarHeight:t("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"}),builderBarWidth:t("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),pageBarHeight:t("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),sidebarLeftWidth:t("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),sidebarRightWidth:t("divi/app-ui").getElementProperty({elementName:"sidebarRight",propertyGroup:"dimension",propertyName:"width"}),zoomScale:t("divi/app-ui").getAppFrameZoom({format:"decimal"}),isUserDefinedAppWindowWidth:t("divi/app-ui").isUserDefinedWindowProperty({attr:"width",windowLocation:"app"}),is100vwVisualView:t("divi/app-ui").is100vwVisualView()}})),{cursorPosition:h,options:f,optionType:y,owner:v,windowLocation:M,parent:A,selected:_}=s,I="app"===M,w=(0,a.includes)(["tablet","phone"],e),C=I&&w?170:0,k="fieldsNode"in v?v.fieldsNode:null,P={adminBarHeight:t,builderBarWidth:i,pageBarHeight:o,sidebarLeftWidth:n,cursorPosition:h,fieldsNode:k,options:f.asMutable({deep:!0}),windowHeight:u,windowWidth:p,appWindowOffset:{top:C,left:"100vw"===c.width?0:(0,st.getAppFrameMarginSides)({builderBarWidth:i,appWindowWidth:r,sidebarLeftWidth:n,sidebarRightWidth:d,topWindowWidth:p,is100vwVisualView:m,zoomScale:g,isUserDefinedAppWindowWidth:b})},selected:_,selectedParent:A.asMutable(),onMount:xt,onUnmount:Rt,onOptionMouseEnter:Lt,onOptionsContextMenu:"pageBarExitMenu"===y?null:St,onOverlayClick:St,onOverlayContextMenu:St,optionType:y,windowLocation:M,zoomScale:g};return(0,D.createElement)(ot,P)};let $t=t=>crypto.getRandomValues(new Uint8Array(t)),Wt=(t,e=21)=>((t,e,r)=>{let i=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*i*e/t.length);return(s=e)=>{let a="";for(;;){let e=r(o),n=o;for(;n--;)if(a+=t[e[n]&i]||"",a.length===s)return a}}})(t,e,$t);const Bt="divi.rightClickOptions.colorPickerOptions",Vt=t=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(Bt,e,t)}const{color:e,colorId:r,colorPalette:i,targetClassList:s}=t.colorPickerAttrs,{onConvertToPaletteColor:d,onDeletePaletteColor:u,onEditPaletteColor:p,onDetachCurrentColorFromPalette:c,onReplacePaletteColor:g}=t.colorPickerAttrs.actions,b=[];return!s.includes("et-vb-colorpicker-manager__swatches-swatch-overlay-global")||"global"!==i||(0,a.isEmpty)(r)||(0,a.isEmpty)(e)?s.includes("et-vb-colorpicker-manager__swatches-swatch-overlay-saved")&&"saved"===i&&!(0,a.isEmpty)(e)?b.push({name:"make-global-color",label:(0,n.__)("Make Global Color","et_builder"),onClick:()=>{const t=`gcid-${Wt("0123456789abcdefghijklmnopqrstuvwxyz",10)()}`;(0,l.dispatch)("divi/global-data").addGlobalColor({color:e,id:t});const r=(0,l.select)("divi/global-data").getRenderableValue(t,e);s.includes("et-vb-colorpicker-manager__current-color-overlay")&&d(r),(0,l.dispatch)("divi/right-click-options").unset()}}):s.includes("et-vb-colorpicker-manager__current-color-overlay-css-variable")?b.push({name:"detach-from-global",label:(0,n.__)("Detach From Global","et_builder"),onClick:()=>{const t=(0,l.select)("divi/global-data").getGlobalColorBasedOnCssVariable(e)?.color;(0,a.isEmpty)(t)||c(t),(0,l.dispatch)("divi/right-click-options").unset()}}):s.includes("et-vb-colorpicker-manager__current-color-overlay")&&!(0,a.isEmpty)(e)&&b.push({name:"convert-to-global",label:(0,n.__)("Convert To Global","et_builder"),onClick:()=>{const t=`gcid-${Wt("0123456789abcdefghijklmnopqrstuvwxyz",10)()}`;(0,l.dispatch)("divi/global-data").addGlobalColor({color:e,id:t});const r=(0,l.select)("divi/global-data").getRenderableValue(t,e);d(r),(0,l.dispatch)("divi/right-click-options").unset()}}):(b.push({name:"edit-global-color",label:(0,n.__)("Edit Global Color","et_builder"),onClick:()=>{p(i,r,e),(0,l.dispatch)("divi/right-click-options").unset()}}),(0,l.select)("divi/global-data").isGlobalColorRemovable(r)&&(b.push({name:"replace-global-color",label:(0,n.__)("Replace Global Color","et_builder"),onClick:()=>{g(r,e),(0,l.dispatch)("divi/right-click-options").unset()}}),b.push({name:"delete-global-color",label:(0,n.__)("Delete Global Color","et_builder"),onClick:()=>{u({colorId:r}),(0,l.dispatch)("divi/right-click-options").unset()}}))),(0,o.applyFilters)(Bt,b,t)},zt="divi.rightClickOptions.gradientStopOptions",Ht=t=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(zt,e,t)}const{removeStop:e}=t,r=[];return r.push({name:"delete-gradient-stop",label:(0,n.__)("Delete Gradient","et_builder"),onClick:()=>{e(),(0,l.dispatch)("divi/right-click-options").unset()}}),(0,o.applyFilters)(zt,r,t)},Ut=t=>{const e=t.id,r=[],i=d(e);r.push({name:"draggable-list-item-copy",label:(0,n.__)("Copy Item Styles","et_builder"),onClick:()=>ct({moduleId:e,moduleLabel:i.name,attrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","style"]),attrs:(0,I.extractAttrsByGroupAttrsMap)({attrs:(0,l.select)("divi/edit-post").getModuleAttrs(e).asMutable({deep:!0}),attrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","style"])})})});return"moduleAttributes"===(0,a.get)(t,["clipboardItemStyle","clipboardType"])&&r.push({name:"paste-module-style-to-module",label:(0,n.__)("Paste Item Style","et_builder"),onClick:()=>{const r=(0,a.get)(t,["clipboardItemStyle"]),i=(0,a.get)(t,["attrsMaps","attrsCategoryMap","style"]),o=r?.payload;At({sourceAttrsMap:"attrsMap"in o?o.attrsMap:{},sourceAttrs:"attrs"in o?o.attrs:j()({}),targetModuleId:e,targetAttrsMap:i,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(e)})}}),(0,o.applyFilters)("divi.rightClickOptions.draggableListOptions",r,t)};function Kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class qt{constructor(t){Kt(this,"owner",void 0),this.owner=t,this.validateOwner()}validateOwner(){Boolean(this.owner.fieldComponent),Boolean(this.owner.onFieldReset)}canReset(){return!!this.owner.onFieldReset&&!!this.owner.fieldComponent}performReset(){if(this.owner.fieldComponent&&this.owner.onFieldReset){const{fieldComponent:t}=this.owner,e=t.props?.defaultValue;this.owner.onFieldReset(e)}}}class Xt{constructor(t,e){Kt(this,"owner",void 0),Kt(this,"hasModifiedAttr",void 0),this.owner=t,this.hasModifiedAttr=e,this.validateOwner()}validateOwner(){Boolean(this.owner.id),Boolean(this.owner.attrName)}canReset(){return this.hasModifiedAttr}performReset(){const{id:t,attrName:e,subName:r}=this.owner,i=(0,l.select)("divi/edit-post").getModuleAttrs(t),o=e?e.split("."):[],s=r?r.split("."):[],a=[...o,"desktop","value",...s];let n=i.getIn(a,null);if(null===n&&"divi/checkboxes"===this.owner.fieldName){const t=i.getIn([...o],null);t&&"object"==typeof t&&(n=t)}let d="";d=Array.isArray(n)?[]:n&&"object"==typeof n?{}:"";const u=i.setIn(a,d);(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(t,u,"user",!0)}}const Yt=(t,e,r,i,o)=>r&&r.includes("reset")?null:{name:"reset-modal-field",label:(0,n.sprintf)((0,n.__)("Reset %1$s Attributes","et_builder"),t.fieldLabel),enable:e.canReset()&&!(i||o),onClick:()=>{e.performReset(),(0,l.dispatch)("divi/right-click-options").unset()}},Jt="divi.rightClickOptions.modalFieldOptions",Zt=(t,e)=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(Jt,e,t)}const{modalName:r,fieldName:i,attrName:s,subName:d,id:u}=t,{clipboardItem:p}=t,c=[],b=(0,l.select)("divi/global-data").isActivePreset(),m=(0,l.select)("divi/global-data").getOptionGroupPresetEditMode(),h=m?.isPresetActive&&(0,l.select)("divi/modal-library").isGroupOpen(m?.groupId);if("divi/module"===r||"divi/responsive-editor"===r){const o=((t,e,r,i)=>e&&e.includes("copy")?null:{name:"copy-field",label:(0,n.sprintf)((0,n.__)("Copy %1$s Attributes","et_builder"),t.fieldLabel),onClick:()=>nt({attrName:t.attrName,subName:t.subName,moduleId:t.id,modalName:t.modalName,modalTab:t.modalTab,fieldName:t.fieldName,fieldOptions:t.fieldOptions,fieldLabel:t.fieldLabel,groupName:t.groupName,moduleObject:(0,l.select)("divi/edit-post").getModule(t.id),attributeType:(0,I.getCopyType)(t.modalTab,t.groupName)}),enable:!(r||i)})(t,e,b,h);o&&c.push(o);const m=(0,l.select)("divi/edit-post").getModuleAttrs(u),y=s?s.split("."):[],v=d?d.split("."):[],M=[...y,"desktop","value",...v],A=M.join(".");let _=null,w=!1;if("divi/module"===r){if(_=m.getIn(M,null),null===_&&"divi/checkboxes"===i){const t=m.getIn([...y],null);if(t&&"object"==typeof t){Object.values(t).some((t=>{if(t&&"object"==typeof t&&"value"in t){const{value:e}=t;return"on"===e||"1"===e||1===e||!0===e}return!1}))&&(_=t)}}w=!(null===_||(0,a.isUndefined)(_)||""===_||Array.isArray(_)&&0===_.length)}else w="default"!==(0,g.getAttributeCategorizationKey)(A);const C=((t,e,r,i,o)=>r&&r.includes("extend-attributes")?null:{name:"extend-field-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Attributes","et_builder"),t.fieldLabel),enable:e&&!(i||o),onClick:()=>{const e=(0,g.getAttributeCategorizationKey)(t.attrName),r=[...t.attrName?t.attrName.split("."):[],"desktop","value",...t.subName?t.subName.split("."):[]].join("."),i="content"===t.modalTab&&"Background"!==t.groupName?"content":"design";(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:t.id,attributes:{defaultAttributeType:i,defaultOptionGroup:e,defaultModifiedField:r},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()}})(t,w,e,b,h);C&&c.push(C);const k=((t,e,r,i,o)=>{if(r&&r.includes("paste"))return null;if(!e)return null;const s=e.getIn(["payload","fieldName"]),a=e.getIn(["payload","fieldOptions"]);return f({fieldName:t.fieldName||"",clipboardItemFieldName:s,fieldOptions:t.fieldOptions,clipboardItemFieldOptions:a})?{name:"paste-field-to-field",label:(0,n.sprintf)((0,n.__)("Paste to %1$s","et_builder"),t.fieldLabel),onClick:()=>{const r=e.getIn(["payload","fieldAttr"]),i=(0,l.select)("divi/edit-post").getModuleAttrs(t.id),o=t.attrName.split("."),s=i.getIn(o);if(r){const e=j()(r),i=s||j()({});wt({sourceAttr:e,targetModuleId:t.id,targetAttr:i,targetAttrName:t.attrName,targetSubName:t.subName})}},enable:!(i||o)}:null})(t,p,e,b,h);if(k&&c.push(k),"divi/responsive-editor"===r){const r=new qt(t),i=Yt(t,r,e,b,h);i&&c.push(i)}else if("divi/module"===r){const r=new Xt(t,w),i=Yt(t,r,e,b,h);i&&c.push(i)}const P=((t,e,r,i,o)=>r&&r.includes("find-replace")?null:{name:"find-replace",label:(0,n.__)("Find & Replace","et_builder"),enable:e&&!(i||o),onClick:()=>{const e=(0,l.select)("divi/edit-post").getModule(t.id),r=e?(0,l.select)("divi/module-library").getModule(e.name):null,{fieldValue:i}=t;let o,s={name:"divi/text",props:{}};t.features?.dynamicContent&&"object"==typeof t.features.dynamicContent&&(o=t.features.dynamicContent.type),r&&t.attrName&&t.fieldComponent&&t.fieldComponent.name&&(s=t.fieldComponent);const{fieldDefaultValue:a}=t;(0,l.dispatch)("divi/modal-library").open({name:"divi/find-and-replace",owner:t.id,attributes:{sourceModuleId:t.id,attrName:t.attrName,subName:t.subName,fieldLabel:t.fieldLabel,fieldComponent:s,dynamicContentType:o,features:t.features,fieldValue:i,fieldDefaultValue:a,filterComponentProps:t.filterComponentProps},dimension:{width:320,height:600}}),(0,l.dispatch)("divi/right-click-options").unset()}})(t,w,e,b,h);P&&c.push(P)}return(0,o.applyFilters)(Jt,c,t)},Qt="divi.rightClickOptions.modalGroupOptions",te=t=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(Qt,e,t)}const{modalName:e,modalTab:r,modalGroupLabel:i,moduleId:s,attrsMaps:d,groupId:u}=t,p=[],c="content"===r&&"Background"!==i?(0,n.__)("Content","et_builder"):(0,n.__)("Style","et_builder"),b=(0,l.select)("divi/edit-post").getModuleAttrs(s),m=b.getIn(["groupPreset"]),h=Boolean(m?.[u]),{isModulePresetEditMode:f,isOptionGroupPresetEditMode:M,isPresetEditingMode:_,presetEditMode:w}=(()=>{const t=(0,l.select)("divi/global-data").isActivePreset(),e=(0,l.select)("divi/global-data").getOptionGroupPresetEditMode(),r=e?.isPresetActive&&(0,l.select)("divi/modal-library").isGroupOpen(e?.groupId);return{isModulePresetEditMode:t,isOptionGroupPresetEditMode:r,isPresetEditingMode:t||r,presetEditMode:e}})(),C=_?(0,l.select)("divi/global-data").getGroupPreset({groupName:w?.groupName??"",id:(0,l.select)("divi/edit-post").getSelectedOptionGroupPreset(s,u)?.presetId,useDefaultFallback:!0}):null,k=()=>{const e=(0,l.select)("divi/edit-post").getModuleName(s),r=(0,l.select)("divi/edit-post").getModuleAttrs(s),i=(0,g.maybeConvertPresetModuleName)(e,r),o=(0,l.select)("divi/edit-post").getSelectedModulePreset(s),a=(0,l.select)("divi/global-data").getModulePreset({moduleName:i,id:o});return{presetModuleName:i,selectedModulePreset:o,attrs:(0,I.extractAttrsByGroupAttrsMap)({attrs:a?.attrs?a.attrs.asMutable({deep:!0}):{},attrsMap:t?.attrsMaps?.attrsCategoryMap?.all})}},O=()=>{const{presetModuleName:t,selectedModulePreset:e,attrs:r}=k();Object.keys(r).forEach((r=>{(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:r,attrValue:null,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))},N=(()=>{const e=(0,I.extractAttrsByGroupAttrsMap)({attrs:b.asMutable({deep:!0}),attrsMap:t?.attrsMaps?.attrsCategoryMap?.all});if(f){const{attrs:t}=k();return Object.keys(t).length>0}return M?Boolean(C?.attrs&&Object.keys(C.attrs).length>0):Object.keys(e).length>0})(),T=()=>{if(f)O();else if(M)(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:{},updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]});else{const e=(0,I.resetTargetAttrsBasedOnOverlapppingAttrsMaps)({sourceAttrsMap:t?.attrsMaps?.attrsCategoryMap?.all,targetAttrsMap:t?.attrsMaps?.attrsCategoryMap?.all,targetAttrs:b});(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(s,e,"user",!0)}(0,l.dispatch)("divi/right-click-options").unset()},E=()=>{const t=b.setIn(["groupPreset"],m.without(u));(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(s,t,"user",!0),(0,l.dispatch)("divi/right-click-options").unset()},S=()=>{if(f)O();else if(M)(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:{},updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]});else{let e=(0,I.resetTargetAttrsBasedOnOverlapppingAttrsMaps)({sourceAttrsMap:t?.attrsMaps?.attrsCategoryMap?.all,targetAttrsMap:t?.attrsMaps?.attrsCategoryMap?.all,targetAttrs:b});m&&(e=e.setIn(["groupPreset"],m.without(u))),(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(s,e,"user",!0)}(0,l.dispatch)("divi/right-click-options").unset()};if("divi/module"===e&&(p.push({name:"copy-group",label:(0,n.sprintf)((0,n.__)("Copy %1$s Attributes","et_builder"),i),onClick:()=>{let e;if(f){const{attrs:t}=k();e=t}else e=M?C?.attrs?C.attrs.asMutable({deep:!0}):{}:(0,I.extractAttrsByGroupAttrsMap)({attrs:(0,l.select)("divi/edit-post").getModuleAttrs(t.moduleId).asMutable({deep:!0}),attrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"])});lt({origin:t.id,moduleId:t.moduleId,modalName:t.modalName,modalTab:t.modalTab,groupId:t.groupId,groupLabel:i,groupName:t.groupName,attrsGroupNameMap:(0,a.get)(t,["attrsMaps","attrsGroupNameMap"]),attrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"]),attrs:e})}}),p.push({name:"extend-group-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Attributes","et_builder"),i),onClick:()=>{let e="all";t.groupId&&(e=P(t.groupId)),(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:s,attributes:{defaultAttributeType:"content"===r&&"Background"!==i?"content":"design",defaultOptionGroup:e,defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()},enable:N||h}),p.push({name:"reset-modal-group",label:(0,n.sprintf)((0,n.__)("Reset %1$s Attributes","et_builder"),i),onClick:()=>{S()},enable:h||N,..."content"!==c&&(h||N)?{children:[{name:"reset-modal-group-attrs-and-preset-option",label:(0,n.__)("Reset All Attributes","et_builder"),onClick:S,enable:h&&!_||N,bottomSeparator:!0},{name:"reset-modal-group-attrs-option",label:(0,n.sprintf)((0,n.__)("Reset %1$s %2$s Attributes","et_builder"),i,c),onClick:T,enable:N},{name:"reset-modal-group-preset-option",label:(0,n.sprintf)((0,n.__)("Reset %1$s Preset","et_builder"),i),onClick:E,enable:h&&!_}]}:{}}),(0,a.isObject)(t.clipboardItem))){const{clipboardType:r}=t.clipboardItem;if("moduleGroupAttributes"===r){const{clipboardItem:r}=t,i=(0,a.get)(r,["payload","groupLabel"]),o=(0,a.get)(r,["payload","attrsGroupNameMap"]),g=o?o.asMutable({deep:!0}):{},b=(0,a.get)(t,["attrsMaps","attrsGroupNameMap"]),m=(0,l.select)("divi/edit-post").getModule(s),h={...d,attrsCategoryMap:{...d.attrsCategoryMap}};v(t)?p.push({name:"paste-group-to-group",label:(0,n.sprintf)((0,n.__)("Paste %1$s Attributes","et_builder"),i),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:e}=k(),i=(0,a.get)(r,["payload","attrs"]);Object.keys(i).forEach((r=>{const o=i[r];(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:r,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))}else if(M){const e=(0,a.get)(r,["payload","attrs"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else kt({optionType:"module",id:s,attrsMaps:h,clipboardItemStyle:r},"all")},enable:A((0,a.get)(r,"moduleId"),m,"all",r.payload),..."content"!==(0,a.get)(r,["payload","attributeType"])&&{children:[{name:"paste-group-to-group-design-attributes",label:(0,n.sprintf)((0,n.__)("Paste %1$s Design Attributes","et_builder"),i),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:e}=k(),i=(0,a.get)(r,["payload","attrs"]);Object.keys(i).forEach((r=>{const o=i[r];(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:r,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))}else if(M){const e=(0,a.get)(r,["payload","attrs"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else kt({optionType:"module",id:s,attrsMaps:h,clipboardItemStyle:r},"design")},enable:A((0,a.get)(r,"moduleId"),m,"design",r.payload),bottomSeparator:!0},{name:"paste-group-to-group-style-attributes",label:(0,n.sprintf)((0,n.__)("Paste %1$s Style Attributes","et_builder"),i),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:e}=k(),i=(0,a.get)(r,["payload","attrs"]);Object.keys(i).forEach((r=>{const o=i[r];(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:r,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))}else if(M){const e=(0,a.get)(r,["payload","attrs"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else kt({optionType:"module",id:s,attrsMaps:h,clipboardItemStyle:r},"style")},enable:A((0,a.get)(r,"moduleId"),m,"style",r.payload)},{name:"paste-group-to-group-presets",label:(0,n.sprintf)((0,n.__)("Paste %1$s Presets","et_builder"),i),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:e}=k(),i=(0,a.get)(r,["payload","attrs"]);Object.keys(i).forEach((r=>{const o=i[r];(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:r,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))}else if(M){const e=(0,a.get)(r,["payload","attrs"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else kt({optionType:"module",id:s,attrsMaps:h,clipboardItemStyle:r,modalName:e},"preset")},enable:A((0,a.get)(r,"moduleId"),m,"preset",r.payload)}]}}):(0,I.hasOverlappingGroupNames)(g,b)&&p.push({name:"paste-group-to-nested-group",label:(0,n.sprintf)((0,n.__)("Paste %1$s %2$s Attributes","et_builder"),i,c),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:e}=k(),i=(0,a.get)(r,["payload","attrs"]);Object.keys(i).forEach((r=>{const o=i[r];(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:r,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))}else if(M){const e=(0,a.get)(r,["payload","attrs"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else Pt({sourceAttrsGroupNameMap:g,sourceAttrs:(0,a.get)(r,["payload","attrs"]),targetAttrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"]),targetAttrsGroupNameMap:b,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(s),targetModuleId:s})},enable:!_})}else if("moduleGroupTabAttributes"===r){const{clipboardItem:e}=t,r=(0,n.sprintf)((0,n.__)("%1$s Attributes","et_builder"),(0,a.get)(e,["payload","groupTabLabel"])),i=(0,a.get)(e,["payload","attrsMap"]),o=(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"]);(0,I.hasOverlappingAttrNames)(i,o)&&p.push({name:"paste-group-tab-to-group",label:(0,n.sprintf)((0,n.__)("Paste %1$s %2$s Attributes","et_builder"),r,c),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:r}=k(),i=(0,a.get)(e,["payload","attrs"]);Object.keys(i).forEach((e=>{const o=i[e];(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:r,attrName:e,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}))}else if(M){const r=(0,a.get)(e,["payload","attrs"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:"",attrValue:r,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else At({sourceAttrsMap:i,sourceAttrs:(0,a.get)(e,["payload","attrs"]),targetModuleId:s,targetAttrsMap:o,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(s)})},enable:!_})}else if("moduleFieldAttribute"===r){const{clipboardItem:e}=t,r=(0,a.get)(e,["payload"]);y({clipboardItem:e,attrsMaps:t.attrsMaps})&&p.push({name:"paste-field-to-group",label:(0,n.sprintf)((0,n.__)("Paste %1$s %2$s Attributes","et_builder"),(0,a.get)(r,["fieldLabel"]),c),onClick:()=>{if(f){const{presetModuleName:t,selectedModulePreset:e}=k(),i=(0,a.get)(r,["attrName"]),o=(0,a.get)(r,["fieldAttr"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"module",presetSubType:t,presetId:e,attrName:i,attrValue:o,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else if(M){const e=(0,a.get)(r,["attrName"]),i=(0,a.get)(r,["fieldAttr"]);(0,l.dispatch)("divi/global-data").editPresetAttribute({presetType:"group",presetSubType:t.groupName,presetId:(0,l.select)("divi/edit-post").getGroupPresetAttr(s,u)?.presetId,attrName:e,attrValue:i,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}else Ct({targetModuleId:s,targetAttrName:(0,a.get)(r,["attrName"]),targetSubName:(0,a.get)(r,["subName"]),targetGroupName:(0,a.get)(r,["groupName"]),targetAttr:(0,l.select)("divi/edit-post").getModuleAttr(s,(0,a.get)(r,["attrName"])),targetAttrsMaps:d,sourceAttr:(0,a.get)(r,["fieldAttr"])})},enable:!_})}}return(0,o.applyFilters)(Qt,p,t)},ee="divi.rightClickOptions.modalGroupTabOptions",re=t=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(ee,e,t)}const{modalName:e,groupTabLabel:r}=t,i=[],s=(0,l.select)("divi/global-data").isActivePreset(),d=(0,l.select)("divi/global-data").getOptionGroupPresetEditMode(),u=d?.isPresetActive&&(0,l.select)("divi/modal-library").isGroupOpen(d?.groupId);if("divi/module"===e){const e=(0,l.select)("divi/edit-post").getModuleAttrs(t.moduleId),o=Object.keys((0,I.extractAttrsByGroupAttrsMap)({attrs:e.asMutable({deep:!0}),attrsMap:t?.attrsMaps?.attrsCategoryMap?.all})).length>0;if(i.push({name:"copy-modal-group-tab",label:(0,n.sprintf)((0,n.__)("Copy %1$s Attributes","et_builder"),r),onClick:()=>dt({origin:t.groupId,moduleId:t.moduleId,modalName:t.modalName,groupId:t.groupId,groupTabLabel:t.groupTabName,groupTabName:t.groupTabName,attrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"]),attrsGroupNameMap:(0,a.get)(t,["attrsMaps","attrsGroupNameMap"]),attrs:(0,I.extractAttrsByGroupAttrsMap)({attrs:(0,l.select)("divi/edit-post").getModuleAttrs(t.moduleId).asMutable({deep:!0}),attrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"])})}),enable:!(s||u)}),i.push({name:"extend-group-tab-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Attributes","et_builder"),r),onClick:()=>{let e="all";t.groupId&&(e=P(t.groupId)),(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:t.moduleId,attributes:{defaultOptionGroup:e},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()},enable:o}),(0,a.isObject)(t.clipboardItem))if("moduleFieldAttribute"===t.clipboardItem.clipboardType){const{clipboardItem:e,moduleId:r}=t,o=(0,a.get)(e,["payload"]);y({clipboardItem:e,attrsMaps:t.attrsMaps})&&i.push({name:"paste-field-to-group",label:(0,n.sprintf)((0,n.__)("Paste %1$s Attributes","et_builder"),(0,a.get)(o,["fieldLabel"])),onClick:()=>Ct({sourceAttr:(0,a.get)(o,["fieldAttr"]),targetModuleId:r,targetAttrName:(0,a.get)(o,["attrName"]),targetSubName:(0,a.get)(o,["subName"]),targetGroupName:(0,a.get)(o,["groupName"]),targetAttr:(0,l.select)("divi/edit-post").getModuleAttr(r,(0,a.get)(o,["attrName"])),targetAttrsMaps:t.attrsMaps}),enable:!(s||u)})}else if((0,a.includes)(["moduleGroupTabAttributes","moduleGroupAttributes"],t.clipboardItem.clipboardType)){const{clipboardItem:e,moduleId:r}=t,o="moduleGroupTabAttributes"===t.clipboardItem.clipboardType?(0,a.get)(e,["payload","groupTabLabel"]):(0,a.get)(e,["payload","groupLabel"]),d=(0,a.get)(e,["payload","attrsGroupNameMap"]).asMutable({deep:!0}),p=(0,a.get)(t,["attrsMaps","attrsGroupNameMap"]);(0,I.hasOverlappingGroupNames)(d,p)&&i.push({name:"paste-group-tab-to-group-tab",label:(0,n.sprintf)((0,n.__)("Paste %1$s Attributes","et_builder"),o),onClick:()=>Pt({sourceAttrsGroupNameMap:d,sourceAttrs:(0,a.get)(e,["payload","attrs"]),targetAttrsMap:(0,a.get)(t,["attrsMaps","attrsCategoryMap","all"]),targetAttrsGroupNameMap:p,targetAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(r),targetModuleId:r}),enable:!(s||u)})}const d=()=>{const r=(0,I.resetTargetAttrsBasedOnOverlapppingAttrsMaps)({sourceAttrsMap:t?.attrsMaps?.attrsCategoryMap?.all,targetAttrsMap:t?.attrsMaps?.attrsCategoryMap?.all,targetAttrs:e});(0,l.dispatch)("divi/edit-post").replaceModuleAttributes(t.moduleId,r,"user",!0),(0,l.dispatch)("divi/right-click-options").unset()};i.push({name:"reset-modal-group-tab",label:(0,n.sprintf)((0,n.__)("Reset %1$s Attributes","et_builder"),r),onClick:d,enable:o&&!(s||u)})}return(0,o.applyFilters)(ee,i,t)},ie="divi.rightClickOptions.modalTabOptions",oe=t=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(ie,e,t)}const{modalName:e}=t;return(0,o.applyFilters)(ie,[],t)},se="divi.rightClickOptions.moduleOptions",ae=t=>{if(!(0,a.isObject)(t)){const e=[];return(0,o.applyFilters)(se,e,t)}const e=(0,l.select)("divi/settings").checkRolePermission("edit_global_library"),r=(0,l.select)("divi/settings").checkRolePermission("divi_library")&&(0,l.select)("divi/settings").checkRolePermission("save_library"),{selectedModuleIds:i,clipboardItem:s,clipboardItemStyle:u}=t,p=t.id,f=t?.modalName,y=t?.moduleType,v=(0,l.select)("divi/settings").getSetting(["themeBuilder","layout"]),M=(0,l.select)("divi/edit-post").getModule(p),I=M?.name,w=(0,l.select)("divi/module-library").getModule(I)?.appearance,C=(0,l.select)("divi/module").getModuleCount(),k=(0,l.select)("divi/modal-library").isLayersViewFilterActive(),P=(0,l.select)("divi/edit-post").getModule("root")?.children||[],O=(0,l.select)("divi/edit-post").isCloneable({moduleName:I,moduleAppearance:w,themeBuilderLayout:v,moduleCount:C}),N=O&&(0,l.select)("divi/app-ui").hasModulesPermission(y,"add"),T=(0,l.select)("divi/app-ui").hasModulesPermission(y,"delete"),S=(0,l.select)("divi/settings").checkRolePermission("divi_ai"),G=["column","column-inner"].includes(y),x=d(p),L=(0,a.get)(s,"clipboardType"),F=(0,a.get)(s,["payload","moduleType"]),D="divi/layers"===f,$=(0,st.isAppleOS)();let W=!G&&N;if(G){const t=(0,l.select)("divi/edit-post").getModule(M?.parent),e=(0,l.select)("divi/edit-post").getModule(t?.parent),r=t&&"divi/row-inner"===t?.getIn(["name"]),i=t&&e&&"2_3"===e?.getIn(["props","attrs","module","advanced","type","desktop","value"]);let o=!0;if(!(0,g.isParentFlexLayout)({moduleId:p})){const e=r?i?4:3:6;o=t?.children?.length<e}W=o&&D&&N||!G&&N}const B=[];if(B.push({name:"undo",label:(0,n.__)("Undo","et_builder"),onClick:()=>Ft("undo"),enable:(0,l.select)("divi/history").hasUndo(),shortcut:$?["⌘","z"]:["⌃","z"]}),B.push({name:"redo",label:(0,n.__)("Redo","et_builder"),onClick:()=>Ft("redo"),enable:(0,l.select)("divi/history").hasRedo(),shortcut:$?["⌘","y"]:["⌃","y"]}),W&&B.push({name:"clone-module",label:(0,n.sprintf)((0,n.__)("Duplicate %1$s","et_builder"),x.name),onClick:()=>at(p,M.name,G),shortcut:$?["⌘","⇧","d"]:["⌃","⇧","d"]}),T){const t=G?bt:Tt,e=G?"remove-column":"remove-module";let r=!0;if(G){r=((0,l.select)("divi/edit-post").getModule(M?.parent)?.children?.length||0)>1}G&&!r||B.push({name:e,label:(0,n.sprintf)((0,n.__)("Delete %1$s","et_builder"),x.name),onClick:()=>t(p),shortcut:$?["⌘","⌫"]:["⌃","⌫"]})}if((0,l.select)("divi/app-ui").hasModulesPermission(y,"add")){const t=G?(0,l.select)("divi/edit-post").getParentModuleType(p):y,e=G?(0,l.select)("divi/edit-post").getParentModuleId(p):p,r=(0,g.getModuleTypeLabel)(t),i=t=>{const{cursorPosition:r}=(0,l.select)("divi/right-click-options").getState(),i={height:450,width:458};(0,l.dispatch)("divi/modal-library").open({name:"divi/add-module",owner:e,dimension:i,offset:{top:r.y,left:Math.max(0,r.x+300-i.width/2)},attributes:{position:t}}),(0,l.dispatch)("divi/right-click-options").unset()};B.push({name:"add-element",label:(0,n.sprintf)((0,n.__)("Add %s","et_builder"),r),onClick:()=>i("after"),children:[{name:"add-above",label:(0,n.sprintf)((0,n.__)("Add %s Above","et_builder"),r),onClick:()=>i("before")},{name:"add-below",label:(0,n.sprintf)((0,n.__)("Add %s Below","et_builder"),r),onClick:()=>i("after")}]})}const V=(0,l.select)("divi/edit-post").getModuleAttrs(p).asMutable({deep:!0}),z=(0,a.get)(V,"globalModule",""),H=(0,a.get)(V,"globalParent",""),U=z||H;U&&e&&B.push({name:"disable-global",label:(0,n.__)("Disable Global","et_builder"),onClick:()=>ht({moduleId:p})});const K=m({moduleId:p,selectedModuleIds:i}),X=h({isCloneable:O,selectedModuleIds:K});if(!G&&X){const t=1<K.length?x.structures:x.structure;B.push({name:"copy-module",label:(0,n.sprintf)((0,n.__)("Copy %1$s","et_builder"),t),onClick:()=>ut({moduleId:p}),shortcut:$?["⌘","c"]:["⌃","c"],topSeparator:!0})}const Y=b({ownerParentModuleType:(0,l.select)("divi/edit-post").getParentModuleType(p),ownerModuleType:(0,a.get)(t,"moduleType"),clipboardModuleType:F});if(s&&Y&&(!U||e)&&N){const t=s?.payload,e="moduleId"in t?t.moduleId:"",r="moduleIds"in t?t.moduleIds?.asMutable({deep:!0}):[],i=(0,a.isEmpty)(r)?e:r[0],o=c({clipboardType:L,moduleId:e,moduleIds:r,moduleName:t?.moduleObjects?.[i]?.name??""});B.push({name:"paste-module",label:(0,n.sprintf)((0,n.__)("Paste %1$s","et_builder"),o),onClick:()=>Ot({moduleId:p}),shortcut:$?["⌘","v"]:["⌃","v"]})}B.push({name:"copy-attributes",label:(0,n.__)("Copy Attributes","et_builder"),onClick:()=>pt(t),shortcut:$?["⇧","⌘","c"]:["⇧","⌃","c"],topSeparator:!0}),B.push({name:"extend-attributes",label:(0,n.__)("Extend Attributes","et_builder"),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:p,attributes:{defaultOptionGroup:"all",defaultAttributeType:"design",defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()},children:[{name:"extend-all-attributes",label:(0,n.sprintf)((0,n.__)("Extend All %1$s Attributes","et_builder"),x.name),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:p,attributes:{defaultOptionGroup:"all",defaultAttributeType:"all",defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()}},{name:"extend-design-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Design Attributes","et_builder"),x.name),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:p,attributes:{defaultOptionGroup:"all",defaultAttributeType:"design",defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()},bottomSeparator:!0},{name:"extend-style-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Style Attributes","et_builder"),x.name),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:p,attributes:{defaultOptionGroup:"all",defaultAttributeType:"style",defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()}},{name:"extend-content-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Content Attributes","et_builder"),x.name),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:p,attributes:{defaultOptionGroup:"all",defaultAttributeType:"content",defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()}},{name:"extend-preset-attributes",label:(0,n.sprintf)((0,n.__)("Extend %1$s Presets","et_builder"),x.name),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/extend-attributes",owner:p,attributes:{defaultOptionGroup:"all",defaultAttributeType:"preset",defaultModifiedField:"all-modified"},dimension:{width:280,height:542}}),(0,l.dispatch)("divi/right-click-options").unset()},bottomSeparator:!0},q({owner:t,attributeType:"design",label:(0,n.__)("Extend Select Design Attributes","et_builder")}),q({owner:t,attributeType:"style",label:(0,n.__)("Extend Select Style Attributes","et_builder")}),q({owner:t,attributeType:"content",label:(0,n.__)("Extend Select Content Attributes","et_builder")}),q({owner:t,attributeType:"preset",label:(0,n.__)("Extend Select Presets","et_builder")})]});const J=u?.clipboardType;if("moduleAttributes"===J||"moduleGroupAttributes"===J||"moduleFieldAttribute"===J||"moduleGroupTabAttributes"===J){const e=u?.payload,r="fieldLabel"in e?e?.fieldLabel:"",i="groupTabLabel"in e?e?.groupTabLabel:"",o="groupLabel"in e?e?.groupLabel:"",s="moduleLabel"in e?e?.moduleLabel:"",l=r||i||o||s;B.push({name:"paste-attributes",label:(0,n.__)("Paste Attributes","et_builder"),onClick:()=>{kt(t,"all")},children:[{name:"paste-all-attributes",label:(0,n.sprintf)((0,n.__)("Paste All %1$s Attributes","et_builder"),l),onClick:()=>kt(t,"all"),enable:A((0,a.get)(e,"moduleId"),M,"all",e),shortcut:$?["⇧","⌘","v"]:["⇧","⌃","v"]},{name:"paste-design-attributes",label:(0,n.sprintf)((0,n.__)("Paste %1$s Design Attributes","et_builder"),l),onClick:()=>kt(t,"design"),enable:A((0,a.get)(e,"moduleId"),M,"design",e),shortcut:["⇧","⌥","v"],bottomSeparator:!0},{name:"paste-style-attributes",label:(0,n.sprintf)((0,n.__)("Paste %1$s Style Attributes","et_builder"),l),onClick:()=>kt(t,"style"),enable:A((0,a.get)(e,"moduleId"),M,"style",e),shortcut:$?["⌥","⌘","v"]:["⌥","⌃","v"]},{name:"paste-content-attributes",label:(0,n.sprintf)((0,n.__)("Paste %1$s Content Attributes","et_builder"),l),onClick:()=>kt(t,"content"),enable:A((0,a.get)(e,"moduleId"),M,"content",e)},{name:"paste-preset-attributes",label:(0,n.sprintf)((0,n.__)("Paste %1$s Presets","et_builder"),l),onClick:()=>kt(t,"preset"),enable:A((0,a.get)(e,"moduleId"),M,"preset",e),bottomSeparator:!0},R({owner:t,clipboardPayload:e&&"function"==typeof e.getIn?e:j()(e),attributeType:"design",label:(0,n.__)("Paste Select Design Attributes","et_builder")}),R({owner:t,clipboardPayload:e&&"function"==typeof e.getIn?e:j()(e),attributeType:"style",label:(0,n.__)("Paste Select Style Attributes","et_builder")}),R({owner:t,clipboardPayload:e&&"function"==typeof e.getIn?e:j()(e),attributeType:"content",label:(0,n.__)("Paste Select Content Attributes","et_builder")}),R({owner:t,clipboardPayload:e&&"function"==typeof e.getIn?e:j()(e),attributeType:"preset",label:(0,n.__)("Paste Select Presets","et_builder")})]})}if(B.push({name:"reset-module",label:(0,n.__)("Reset Attributes","et_builder"),onClick:()=>{Et(t,"all")},enable:_(t.id,["style","content","preset"],t),children:[{name:"reset-all-attributes",label:(0,n.__)("Reset All Attributes","et_builder"),onClick:()=>Et(t,"all"),shortcut:$?["⇧","⌘","r"]:["⇧","⌃","r"],enable:_(t.id,["style","content","preset"],t)},{name:"reset-design-attributes",label:(0,n.__)("Reset Design Attributes","et_builder"),onClick:()=>Et(t,"design"),shortcut:["⇧","⌥","r"],enable:_(t.id,["style"],t),bottomSeparator:!0},{name:"reset-style-attributes",label:(0,n.__)("Reset Style Attributes","et_builder"),onClick:()=>Et(t,"style"),shortcut:$?["⌥","⌘","r"]:["⌥","⌃","r"],enable:_(t.id,["style"],t)},{name:"reset-content-attributes",label:(0,n.__)("Reset Content Attributes","et_builder"),onClick:()=>Et(t,"content"),enable:_(t.id,["content"],t)},{name:"reset-presets",label:(0,n.__)("Reset Presets","et_builder"),onClick:()=>Et(t,"preset"),enable:_(t.id,["preset"],t),bottomSeparator:!0},E({moduleId:p,moduleAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(p),attrsMaps:{attrsCategoryMap:{all:t.attrsMaps.attrsCategoryMap?.style||{}}},type:"design",resetPreset:!0,label:(0,n.__)("Reset Select Design Attributes","et_builder")}),E({moduleId:p,moduleAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(p),attrsMaps:{attrsCategoryMap:{all:t.attrsMaps.attrsCategoryMap?.style||{}}},type:"style",resetPreset:!1,label:(0,n.__)("Reset Select Style Attributes","et_builder")}),E({moduleId:p,moduleAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(p),attrsMaps:{attrsCategoryMap:{all:t.attrsMaps.attrsCategoryMap?.content||{}}},type:"content",resetPreset:!1,label:(0,n.__)("Reset Select Content Attributes","et_builder")}),E({moduleId:p,moduleAttrs:(0,l.select)("divi/edit-post").getModuleAttrs(p),attrsMaps:{attrsCategoryMap:{all:t.attrsMaps.attrsCategoryMap?.style||{}}},type:"preset",resetPreset:!0,label:(0,n.__)("Reset Select Presets","et_builder")})]}),r&&(B.push({name:"save-to-library",label:(0,n.__)("Save To Library","et_builder"),onClick:()=>Nt({owner:p}),topSeparator:!0}),B.push({name:"save-to-cloud",label:(0,n.__)("Save To Divi Cloud","et_builder"),onClick:()=>Nt({owner:p,saveToDiviCloud:"on"})})),("divi/layers"!==f||k&&D)&&B.push({name:"go-to-layer",label:(0,n.__)("Go To Layer","et_builder"),onClick:()=>{(0,l.dispatch)("divi/modal-library").open({name:"divi/layers"}),(0,l.dispatch)("divi/right-click-options").unset(),k&&D&&(0,l.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:"",isFilterActive:!1,moduleIds:P}),(0,l.dispatch)("divi/modal-library").setLayersViewExpandAll({expandAll:!0,moduleIds:P}),(0,l.dispatch)("divi/modal-library").setLayersViewActiveModuleId(p),(0,g.scrollToModule)(p),(0,l.dispatch)("divi/modal-library").open({owner:p,name:"divi/module"})},shortcut:$?["⌥","⌘","l"]:["⌥","⌃","l"]}),S){const t=[],e=e=>{const r=(0,l.select)("divi/module-library").getModuleContentSettings(e.name);t.push({moduleName:e.name,groups:r,moduleId:e.id})},r=(0,l.select)("divi/edit-post").getContent(),i=r[p],o=t=>{const i=r[t];i?.children&&!(0,a.isEmpty)(i.children)?(0,a.forEach)(i.children,(t=>{o(t)})):e(i)};i?.children&&!(0,a.isEmpty)(i.children)?(0,a.forEach)(i.children,(t=>{o(t)})):e(i);const s={moduleData:t,moduleId:p,isSingleModule:!1};B.push({name:"generate-content-with-ai",label:(0,n.__)("Generate Content With AI","et_builder"),onClick:()=>{(0,g.handleAIButton)(s),(0,l.dispatch)("divi/right-click-options").unset()}})}return(0,o.applyFilters)(se,B,t)},ne={modalField:Zt,modalGroup:te,modalGroupTab:re,modalTab:oe,modalHeader:ae,module:ae,modalDraggableChildModuleList:Ut,colorPicker:Vt,gradientStop:Ht,sidebarRowNav:t=>{const e="navItem"===t.trigger,r=[{name:"close-tab",label:e?(0,n.__)("Close Tab","et_builder"):(0,n.__)("Close Active Tab","et_builder"),onClick:()=>{(0,l.dispatch)("divi/modal-library").close({name:t.modalName}),(0,l.dispatch)("divi/right-click-options").unset()}},{name:"close-tab-group",label:(0,n.__)("Close Tab Group","et_builder"),onClick:()=>{(0,l.select)("divi/app-ui").getSidebarRow(t.id)?.modalIds?.forEach((t=>{(0,l.dispatch)("divi/modal-library").close({name:t})})),(0,l.dispatch)("divi/right-click-options").unset()}},{name:"undock-tab",label:e?(0,n.__)("Undock Tab","et_builder"):(0,n.__)("Undock Active Tab","et_builder"),onClick:()=>{(0,l.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:t?.modalName,sidebarRowId:t?.id}),(0,l.dispatch)("divi/right-click-options").unset()}}];return(0,o.applyFilters)("divi.rightClickOptions.sidebarRowNavOptions",r,t)}},le=(t,e)=>{const r=(0,o.applyFilters)("divi.rightClickOptions.optionsMap",ne),i=(0,a.get)(r,t);return(0,a.isFunction)(i)?i(e):[]},de=()=>({type:"SELECT_CHILD"}),ue=()=>({type:"SELECT_NEXT"}),pe=()=>({type:"SELECT_PARENT"}),ce=()=>({type:"SELECT_PREV"}),ge=({cursorPosition:t,windowLocation:e,optionType:r,owner:i})=>({type:"SET",cursorPosition:t,options:le(r,i),optionType:r,owner:i,windowLocation:e}),be=({name:t,value:e})=>({type:"SET_OWNER_DATA",name:t,value:e}),me=({selected:t,parent:e})=>({type:"SET_SELECTED",parent:e,selected:t}),he=()=>({type:"UNSET"}),fe=(t,e)=>{switch(e.type){case"SET":return t.setIn(["active"],!0).setIn(["cursorPosition"],e.cursorPosition).setIn(["options"],e.options).setIn(["length"],e.options.length).setIn(["optionType"],e.optionType).setIn(["selected"],-1).setIn(["owner"],e.owner).setIn(["windowLocation"],e.windowLocation);case"SET_OWNER_DATA":return t.setIn(["owner",e.name],e.value);case"SELECT_PREV":{const e=t.selected<1?t.selected:t.selected-1;return t.setIn(["selected"],e)}case"SELECT_NEXT":{const e=t.selected>=t.length-1?t.selected:t.selected+1;return t.setIn(["selected"],e)}case"SELECT_PARENT":{if(1>=t.getIn(["parent"]).length)return t;const e=t.getIn(["parent"]).asMutable(),r=e[e.length-1],i=[].concat(e).splice(0,e.length-1),o=()=>{if((0,a.isEqual)([0],i))return t.getIn(["options"]).length;const e=[].concat(i).splice(1).join("-children-").split("-"),r=["options"].concat(e).concat(["children"]);return(t.getIn(r)||[]).length};return t.setIn(["parent"],i).setIn(["selected"],r).setIn(["length"],o())}case"SELECT_CHILD":{const e=(()=>{if((0,a.isEqual)([0],t.parent))return[String(t.getIn(["selected"]))];return[].concat(t.getIn(["parent"]).asMutable()).splice(1).concat([t.getIn(["selected"])]).join("-children-").split("-")})(),r=(0,a.concat)(["options"],e,["children"]);if(!t.getIn(r))return t;const i=t.getIn(r)||[];return t.setIn(["parent"],(0,a.concat)(t.getIn(["parent"]).asMutable(),[t.getIn(["selected"])])).setIn(["selected"],0).setIn(["length"],i.length)}case"SET_SELECTED":{const r=()=>{if((0,a.isEqual)(t.getIn(["parent"]).asMutable(),e.parent))return t.getIn(["length"]);if((0,a.isEqual)([0],e.parent))return t.getIn(["options"]).length;const r=[].concat(e.parent).splice(1).join("-children-").split("-"),i=["options"].concat(r).concat(["children"]);return(t.getIn(i)||[]).length};return t.setIn(["parent"],e.parent).setIn(["selected"],e.selected).setIn(["length"],r())}case"UNSET":return t.setIn(["active"],!1).setIn(["cursorPosition"],{x:0,y:0}).setIn(["optionType"],"module").setIn(["parent"],[0]).setIn(["selected"],-1).setIn(["options"],[]).setIn(["length"],0).setIn(["owner"],{}).setIn(["windowLocation"],"app");default:return t}},ye=t=>t.getIn(["active"]),ve=t=>t;function Me(t,e="expected a function, instead received "+typeof t){if("function"!=typeof t)throw new TypeError(e)}var Ae=t=>Array.isArray(t)?t:[t];function _e(t){const e=Array.isArray(t[0])?t[0]:t;return function(t,e="expected all items to be functions, instead received the following types: "){if(!t.every((t=>"function"==typeof t))){const r=t.map((t=>"function"==typeof t?`function ${t.name||"unnamed"}()`:typeof t)).join(", ");throw new TypeError(`${e}[${r}]`)}}(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Ie(t,e){const r=[],{length:i}=t;for(let o=0;o<i;o++)r.push(t[o].apply(null,e));return r}Symbol(),Object.getPrototypeOf({});var we="undefined"!=typeof WeakRef?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}};function Ce(t,e={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:i}=e;let o,s=0;function a(){let e=r;const{length:a}=arguments;for(let t=0,r=a;t<r;t++){const r=arguments[t];if("function"==typeof r||"object"==typeof r&&null!==r){let t=e.o;null===t&&(e.o=t=new WeakMap);const i=t.get(r);void 0===i?(e={s:0,v:void 0,o:null,p:null},t.set(r,e)):e=i}else{let t=e.p;null===t&&(e.p=t=new Map);const i=t.get(r);void 0===i?(e={s:0,v:void 0,o:null,p:null},t.set(r,e)):e=i}}const n=e;let l;if(1===e.s?l=e.v:(l=t.apply(null,arguments),s++),n.s=1,i){const t=o?.deref?.()??o;null!=t&&i(t,l)&&(l=t,0!==s&&s--);o="object"==typeof l&&null!==l||"function"==typeof l?new we(l):l}return n.v=l,l}return a.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function ke(t,...e){const r="function"==typeof t?{memoize:t,memoizeOptions:e}:t,i=(...t)=>{let e,i=0,o=0,s={},a=t.pop();"object"==typeof a&&(s=a,a=t.pop()),Me(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const n={...r,...s},{memoize:l,memoizeOptions:d=[],argsMemoize:u=Ce,argsMemoizeOptions:p=[],devModeChecks:c={}}=n,g=Ae(d),b=Ae(p),m=_e(t),h=l((function(){return i++,a.apply(null,arguments)}),...g);const f=u((function(){o++;const t=Ie(m,arguments);return e=h.apply(null,t),e}),...b);return Object.assign(f,{resultFunc:a,memoizedResultFunc:h,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>e,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:u})};return Object.assign(i,{withTypes:()=>i}),i}var Pe=ke(Ce),Oe=Object.assign(((t,e=Pe)=>{!function(t,e="expected an object, instead received "+typeof t){if("object"!=typeof t)throw new TypeError(e)}(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);const r=Object.keys(t);return e(r.map((e=>t[e])),((...t)=>t.reduce(((t,e,i)=>(t[r[i]]=e,t)),{})))}),{withTypes:()=>Oe});const Ne=Pe([t=>t?.getIn(["owner","id"],""),(t,e)=>e],((t,e)=>!!t&&t===e)),Te=Pe([t=>t,(t,e)=>e],((t,e)=>{const r=t?.getIn(["owner","source"],""),i=t?.getIn(["owner","fieldLabel"],"");return"rightMenu"===r&&i===e})),Ee=j()({active:!1,cursorPosition:{x:0,y:0},windowLocation:"app",options:[],optionType:"module",parent:[0],selected:-1,length:0,owner:null}),Se=()=>{(0,l.select)("divi/right-click-options")||(0,l.registerStore)("divi/right-click-options",{actions:t,reducer:fe,selectors:e,initialState:Ee})}}(),(window.divi=window.divi||{}).rightClickOptions=i}();